<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
 <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
 <meta http-equiv="content-type" content="text/html;" />
 <meta http-equiv="cache-control" content="no-cache" />
 <meta http-equiv="pragma" content="no-cache" />  
 <meta name="copyright" content=all rights reserved" />
 <meta name="Keywords" content=scrape google suggest,scrape suggest, scrape google autocomplete, php scraping, php scraper, professional data mining, keyword research, keyword phrase research" /><script type="text/javascript">
  var _paq = _paq || [];
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
  _paq.push(["setCookieDomain", "*.Scraping.Compunect.com"]);
  _paq.push(["setDomains", ["*.Scraping.Compunect.com"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
      var u="//compunect.com/piwi/piwi/";
      _paq.push(['setTrackerUrl', u+'piwi.php']);
      _paq.push(['setSiteId', '3']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwi.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//compunect.com/piwi/piwi/piwi.php?idsite=3&rec=1" style="border:0;" alt="" /></p></noscript><meta name="Description" CONTENT="A powerful PHP Google Suggest Scraping Spider. Can scrape tens of thousands of organic search queries related to a single simple keyword. Free code, highly customizeable but also immediately usable." /><title>Google Suggest Scraping Spider in PHP, scrape millions of organic search phrases</title><link rel="StyleSheet" href="styles.css" type="text/css" />
</head>
<body style='background-image: url(scraping_bg_trans2.png);background-size: 100%;'><style>
        a.website
        {
            font-size:15px;
            margin-right:30px;
            text-decoration: none;

        }
        a.website h4
        {
            color:#445de6;
        }
        </style><div style='width:1000px;margin-left:auto;margin-right:auto;margin-top:30px'><b>All scraping projects:</b><br><div style='margin-left:20px'><a class= 'website' href='http://scraping.compunect.com/?google-bing-scraping-service'><h4>Google and Bing Scraping Service (new)</h4></a><a class= 'website' href='http://scraping.compunect.com/?scrape-google-search'><h4>Google Search scraper</h4></a><a class= 'website' href='http://scrape-google-suggest.compunect.com/?scrape-google-suggest'><h4>Google Suggest scraper</h4></a><a class= 'website' href='http://scrape-google-finance.compunect.com/?scrape-google-finance'><h4>Google Finance scraper</h4></a><div></div><div style='width:1000px;margin-left:auto;margin-right:auto;'><div id=page>
<pre style="margin-left:20px;">
<h1 style="margin-left:5px;margin-bottom:5px;margin-top:5px;padding-bottom:0">Google Suggest Scraping Spider PHP Code</h1>
<small>Project offered by compunect [scraping@compunect.com]</small>
<small>last successful test run: 30th March 2014</small>
<p>
The Google Suggest Scraping Spider is an advanced open source Google autocomplete scraping project.
You may use this code as it is (see below) or customize it to power your fresh startup or project.

You can either customize this project by yourself or hire us to do what we can do best ;)
compunect is an IT services and development company originally founded in Germany and is now situated in Czech Republic focused at challenging tasks.</p>

<a name = "Google Suggest Scraping spider"></a>
<p><b>The Google Suggest Scraping Spider main features:</b></p>
</pre>
<ul style="list-style:disc;margin-left:20px;margin-top:4px;">
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>This scraper can operate 24 hours a day 7 days a week without getting blocked</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Ability to scrape literally unlimited amount of related keywords and phrases from just a single keyword</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Supports the new Google Suggest Chrome API, providing double the amount of results and additional meta information to refine</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Scraping of single or multiple keywords and spidering into hundred thousands of related recursions</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Support of keyword suggest mutation by adding automatically a singgle character, resulting in nearly 300 additional suggestions per keyword.</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Automated IP rotation and management, delay management, failsave mechanisms </p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Full automated functions, human readable output and machine readable storage array</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Support for all available Google languages</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Well structured and readable code, easy to modify and customize</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Local storage cache to use IP addresses best possible and can continue where it was stopped/interrupted</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Very easy to start and configure, does not require expert programming knowhow to be used</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Open source PHP code available for commercial use, easily worth multiple thousand USD</p></li>
<li style="list-style:disc;margin-left:20px;margin-top:4px;"><p>Perfectly suitable as background process on a Linux server (Amazon offers EC2 Linux servers one year for free)</p></li>
</ul><pre style="margin-left:20px;">

<p>
Our <a href="http://scraping.compunect.com/?scrape-google-search">Google Search Scraper</a> was quite a big success and it is used to power projects of some
of the worlds most known companies (Forbes 100) and from many more promising startups.

While the Google Search Scraper focuses on gathering search ranks from Google the new Google Suggest Scraping Spider is
focused on scraping what the 500 million Google users are really searching for.
This is usually hidden beyond Googles walls, this project can drag the hidden information out of the shadows.

It was quite a big surprise when I found out about the depth of information which is hidden below the normal sight of a Google Search user,
behind every simple keyword wait ten-thousands of related phrases and keywords which can be made visible through this spider.

Scraping the Google suggest engine makes it possible to find out what users are really searching for, from short to long-tail phrases.
This information can be used in many different ways. I will go in detail about some usage scenarios a bit later.

</p>
<a name = "Scraping details"></a>
<h3>Scraping Challenges</h3>
<p style="margin-left:20px"> 
For almost any developer it is quite a challenging task to finish such a project.
There are many possible issues arising from scraping and this is knowledge not taught in a usual University.
Google wrote the engine for licensed partners and search users, so it is important to behave like a browser and user.
Wrong behaviour will lead to a block of IPs either short or long term, threatening your company, server and project.
This code solves all the typical challenges and provides an easily customizable basement for your own project, or it may be used as it is.</p>

<a name = "Usage scenarios"></a>
<h3>Some possible usage scenarios</h3>
<p style="margin-left:20px"><ul>
This tool is very useful for anyone working in the area of SEO (Search engine optimization) or online advertisements.
Some general ideas:
<li><b>Keyword research:</b>
This tool can expand a keyword easily into thousands or ten thousands of related keywords and phrases.
All those results are directly related to current real organic search.
This means you can target a blog, article, website, or advertisement directly to the search of real users.</li>
<li><b>Long-tail keyword research:</b>
Ranking a short search phrase/keyword in a competitive area can be very difficult.
The scraped suggest results will contain countless phrases you would not have thought about or even inspire you.</li>
<li><b>Your own Zeitgeist</b>
Every year Google offers "Google Zeitgeist", a snapshot of one year what people have been searching for.
Run this scraper regularly with a set of specific keywords into a database and you can create your own Zeitgeist study
which can draw quite some attention.</li>
<li><b>News research:</b>
Blogs, Articles and News websites can use this information to tailor their stories exactly to the interest of users to gain more viewers.
Or find out which sort of articles people would like to read.</li>
<li><b>Blackhat SEO</b>
In blackhat SEO this information can be used for automated articles or link-building based on unlimited different real search requests.</li></ul>
</p>

<a name = "Proxy Management"></a>
<h3>IP/Proxy management</h3>
<p style="margin-left:20px"> 
When scraping it is most essential to avoid detection. 
Google will ban any user IP who tries to automatically scrape their offers, if it can detect it.
In the worst case they can throw out a ban which blocks ten thousands of IP addresses permanently.
This is usually all that happens, it threatens the project but not the legal entity behind it. 
However there is also a legal threat.
If you do not accept the search engine TOS you should not have legal threats with passively scraping it. 
To make sure about that you need to consult your local lawyer.
While I have years of experience working with Google Search scrapers, for Google Suggest I do not have longterm experience yet.
This project is based on information I could gather during research and development but so far no long-term stability data is available.
However, I am confident the integrated features will prevent it from getting blocked or detected.
If not I will update the code here for free to reflect new knowledge.

<u>These measures have been taken to prevent detection during scraping</u>:
 *) Local file based caching reduces the amount of requests and potential duplicate keyword lookups
 *) IP management routines remember the usage of each single IP address and reads/stores this data in a local file
 *) Delay routines put correct delays between requests and IP changes to avoid detection and obvious non organic request rates
 *) Request calls and HTTP headers fake a Chrome or Firefox browser, the code simulates searching through a Chrome/Firefox browser
 *) You can select if you wish to act as Firefox toolbar or Chrome browser, this even results in using a completely different API!
 *) A powerful HTTP library (libcURL) is used to connect to Google, this allows fine control of the behaviour
</p>


<a name = "private US Proxies"></a>
<h3>US-Proxy support</h3>
<p style="margin-left:20px">
This project runs through a <a href="http://www.us-proxies.com">US Proxy service</a>, powered through the supplied API it
is possible to scrape millions of results without getting blocked.
The benefit of using us-proxies.com is an easily extendable IP service providing the best IP quality in the industry at a
fair price aimed toward professionals.
However, the code is not limited to this particular service. You are free to adapt the source to suit your needs.
</p>

<a name = "Example Output"></a>
<h3>Example output from the scraper</h3>
<p style="margin-left:20px">
Here are two example result-sets from a test-run:<br>
<b>Keyword: 'Scraping Google' </b> Using mutation, worldwide dataset with english preference, 3 level spidering in Chrome API mode
The results are of very high quality and relevance due to the new API and usage of the provided revelance meta data
</p><div style="width:900px; height:250px; overflow:scroll;margin-left:20px;border:solid 1px;font-size: 12px;font-family: monospace">Finished
Recursion level reached: 3, Total keywords: 282 keywords, Time spent: 307 seconds

Google Suggest Spider results
Recursion level 0 contains 146 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| scraping google                                    | scraping google scholar                            |
|                                                    | scraping google finance                            |
|                                                    | scraping google maps                               |
|                                                    | scraping google news                               |
|                                                    | scraping google groups                             |
|                                                    | scraping google play                               |
|                                                    | scraping google search results python              |
|                                                    | scraping google cache                              |
|                                                    | scraping google trends                             |
|                                                    | scraping google images                             |
|                                                    | scraping google maps results                       |
|                                                    | scraping google image search                       |
|                                                    | scraping google ranks for fun and profit           |
|                                                    | scraping google translate                          |
|                                                    | scraping google adwords                            |
|                                                    | scraping google search results php                 |

| scraping google a                                  | scraping google adwords                            |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape google ads                                  |
|                                                    | scrape google autocomplete                         |
|                                                    | scrape google analytics real time                  |
|                                                    | scrape google art project                          |
|                                                    | google scraping api                                |
|                                                    | web scraping google app engine                     |

| scraping google b                                  | scrape google books                                |
|                                                    | scrape google business listings                    |
|                                                    | scrape google blog search                          |
|                                                    | scrape google local business                       |
|                                                    | bing scraping google                               |

| scraping google c                                  | scraping google cache                              |
|                                                    | scrape google captcha                              |
|                                                    | scrape google calendar                             |
|                                                    | google chrome scraper                              |
|                                                    | screen scraping google chrome                      |
|                                                    | scraping google results c#                         |
|                                                    | google content scraping                            |

| scraping google d                                  | scraping google docs                               |
|                                                    | scrape data google keyword tool                    |
|                                                    | web scraping google docs                           |
|                                                    | scrape google finance data                         |
|                                                    | scraping websites with google docs                 |
|                                                    | google data scraping                               |
|                                                    | data scraping google maps                          |

| scraping google e                                  | scrape emails google                               |
|                                                    | scrape google results excel                        |
|                                                    | web scraping google app engine                     |

| scraping google f                                  | scraping google finance                            |
|                                                    | scraping from google                               |
|                                                    | scrape google places free                          |
|                                                    | scraping data from google maps                     |
|                                                    | scrape google product feed                         |

| scraping google g                                  | scraping google groups                             |
|                                                    | scrape google without getting banned               |


| scraping google i                                  | scraping google images                             |

| scraping google j                                  | scraping google java                               |

| scraping google k                                  | scraping google keyword tool                       |
|                                                    | scrape google keyword planner                      |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |

| scraping google l                                  | scrape google local results                        |
|                                                    | scrape google local business                       |
|                                                    | scrape google listings                             |
|                                                    | scrape links google                                |
|                                                    | scrape google business listings                    |

| scraping google m                                  | scraping google maps                               |
|                                                    | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google n                                  | scraping google news                               |
|                                                    | scrape google news python                          |
|                                                    | scrape google nokogiri                             |
|                                                    | scrape google .net                                 |

| scraping google o                                  | scrape google online                               |

| scraping google p                                  | scraping google play                               |
|                                                    | scraping google places                             |
|                                                    | scraping google plus                               |
|                                                    | scraping google pages                              |
|                                                    | scrape google python                               |
|                                                    | scrape google php                                  |
|                                                    | scrape google places free                          |
|                                                    | google scraping proxy                              |
|                                                    | scrape google news python                          |
|                                                    | scrape google results php                          |
|                                                    | scrape google art project                          |
|                                                    | scrape google search page                          |
|                                                    | scrape google keyword planner                      |
|                                                    | scraping google search results python              |
|                                                    | scraping google search results php                 |


| scraping google r                                  | scraping google results                            |
|                                                    | scraping google ranks for fun and profit           |
|                                                    | scraping google results c#                         |
|                                                    | scrape google results into excel                   |
|                                                    | scrape google results php                          |
|                                                    | scrape google results software                     |
|                                                    | scrape google results excel                        |
|                                                    | scraping google search results python              |
|                                                    | bing scraping google results                       |
|                                                    | screen scraping google results                     |
|                                                    | scraping google search results php                 |
|                                                    | scraping google maps results                       |
|                                                    | scrape google shopping results                     |
|                                                    | python scrape google results                       |
|                                                    | scrape google search results java                  |
|                                                    | scrape google play reviews                         |
|                                                    | scrape google analytics real time                  |
|                                                    | scrape google local results                        |
|                                                    | scrape google scholar results                      |
|                                                    | scrape google search results online                |

| scraping google s                                  | scraping google search                             |
|                                                    | scraping google scholar                            |
|                                                    | scraping google search results python              |
|                                                    | scraping google search results php                 |
|                                                    | scraping google spreadsheet                        |
|                                                    | scraping google shopping                           |
|                                                    | google suggest scraper                             |
|                                                    | scrape google shopping results                     |
|                                                    | scrape google search results java                  |
|                                                    | scrape google search results excel                 |
|                                                    | scrape google scholar results                      |
|                                                    | scrape google search page                          |
|                                                    | scrape google search results online                |
|                                                    | google scraping script                             |
|                                                    | google scraping service                            |
|                                                    | google scrape similar                              |
|                                                    | web scraping google search results                 |
|                                                    | screen scraping google search results              |
|                                                    | web scraping google scholar                        |
|                                                    | scraping google image search                       |

| scraping google t                                  | scraping google trends                             |
|                                                    | scraping google translate                          |
|                                                    | google scraping tool                               |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google with tor                           |
|                                                    | scraping google adwords keyword tool               |

| scraping google u                                  | scraping using google                              |
|                                                    | web scraping using google docs                     |


| scraping google w                                  | scraping google with python                        |
|                                                    | scraping google with tor                           |
|                                                    | scrape google without getting banned               |
|                                                    | scraping with google docs                          |
|                                                    | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |
|                                                    | google web scraping                                |
|                                                    | web scraping google search results                 |
|                                                    | web scraping google app engine                     |
|                                                    | web scraping google scholar                        |




Recursion level 1 contains 107 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| scraping google scholar                            | scrape google scholar results                      |
|                                                    | web scraping google scholar                        |


| scraping google maps                               | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google news                               | scrape google news python                          |






| scraping google images                             | python scrape google images                        |





| scraping google adwords                            | scraping google adwords keyword tool               |







| google scraping api                                | web scraping google api                            |









| google chrome scraper                              | google chrome scraper tutorial                     |
|                                                    | how to use google chrome scraper                   |




| scraping google docs                               | web scraping google docs                           |
|                                                    | scraping websites with google docs                 |





| google data scraping                               | google chrome data scraping                        |
|                                                    | data scraping google maps                          |


| scrape emails google                               | scrape emails from google search                   |

| scrape google results excel                        | scrape google results into excel                   |

| scraping from google                               | scraping data from google maps                     |
|                                                    | scraping google maps                               |
|                                                    | scraping google images                             |
|                                                    | scraping google finance                            |
|                                                    | scraping google play                               |
|                                                    | scraping google scholar                            |
|                                                    | scraping google places                             |
|                                                    | scraping google groups                             |
|                                                    | scraping google translate                          |
|                                                    | scraping google news                               |
|                                                    | scraping google search results python              |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google plus                               |
|                                                    | scraping google cache                              |
|                                                    | scraping google with python                        |
|                                                    | scraping google trends                             |
|                                                    | scraping google with tor                           |
|                                                    | scraping google shopping                           |
|                                                    | scraping google image search                       |






| scraping google keyword tool                       | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |



| scrape google listings                             | scrape google business listings                    |






| scrape google online                               | scrape google search results online                |

| scraping google places                             | scrape google places free                          |
|                                                    | php scrape google places                           |



| scrape google python                               | scrape google news python                          |
|                                                    | scrape google search results python                |
|                                                    | python scrape google finance                       |

| scrape google php                                  | scrape google results php                          |
|                                                    | scrape google search results php                   |
|                                                    | php scrape google places                           |


| scrape google results php                          | scrape google search results php                   |


| scraping google results                            | scraping google results c#                         |
|                                                    | scrape google results into excel                   |
|                                                    | scrape google results php                          |
|                                                    | scrape google results software                     |
|                                                    | scrape google results excel                        |
|                                                    | scraping google search results python              |
|                                                    | bing scraping google results                       |
|                                                    | screen scraping google results                     |
|                                                    | scraping google search results php                 |
|                                                    | scraping google maps results                       |
|                                                    | scrape google shopping results                     |
|                                                    | python scrape google results                       |
|                                                    | scrape google search results java                  |
|                                                    | scrape google local results                        |
|                                                    | scrape google scholar results                      |
|                                                    | scrape google search results online                |
|                                                    | perl scrape google results                         |
|                                                    | web scraping google search results                 |




| screen scraping google results                     | screen scraping google search results              |


| python scrape google results                       | python scrape google search results                |





| scraping google search                             | scraping google search results python              |
|                                                    | scraping google search results php                 |
|                                                    | scrape google search results java                  |
|                                                    | scrape google search results excel                 |
|                                                    | scrape google search page                          |
|                                                    | scrape google search results online                |
|                                                    | web scraping google search results                 |
|                                                    | screen scraping google search results              |
|                                                    | scraping google image search                       |
|                                                    | scrape google blog search                          |

| scraping google spreadsheet                        | scraping google docs                               |

| scraping google shopping                           | scrape google shopping results                     |

| google suggest scraper                             | google suggest scraper php                         |
|                                                    | google suggest scraper script                      |
|                                                    | google suggest scraper php script                  |
|                                                    | google suggest keyword suggestion scraper tool     |



| google scraping service                            | google terms of service scraping                   |





| google scraping tool                               | google suggest scraper tool                        |
|                                                    | google keyword scraper tool                        |
|                                                    | google places scraper tool                         |
|                                                    | google url scraper tool                            |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |


| scraping using google                              | scraping with google docs                          |
|                                                    | web scraping using google docs                     |
|                                                    | scraping google with python                        |
|                                                    | scraping google with tor                           |

| web scraping using google docs                     | web scraping using google docs xpath               |


| scraping with google docs                          | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |

| web scraping with google docs                      | web scraping with google docs spreadsheets         |

| google web scraping                                | google web scraping api                            |
|                                                    | google web scraping tool                           |
|                                                    | google refine web scraping                         |
|                                                    | google docs web scraping                           |
|                                                    | google apps script web scraping                    |
|                                                    | web scraping google search results                 |
|                                                    | web scraping google scholar                        |

Recursion level 2 contains 28 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |

















| scraping google maps                               | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google images                             | python scrape google images                        |



| scraping google scholar                            | scrape google scholar results                      |
|                                                    | web scraping google scholar                        |

| scraping google places                             | scrape google places free                          |
|                                                    | php scrape google places                           |



| scraping google news                               | scrape google news python                          |


| scraping google keyword tool                       | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |






| scraping google shopping                           | scrape google shopping results                     |









| scrape google results php                          | scrape google search results php                   |




| scrape google results excel                        | scrape google results into excel                   |


| screen scraping google results                     | screen scraping google search results              |



| python scrape google results                       | python scrape google search results                |










| scraping google docs                               | web scraping google docs                           |
|                                                    | scraping websites with google docs                 |

| google suggest scraper php                         | google suggest scraper php script                  |

| google suggest scraper script                      | google suggest scraper php script                  |





| google keyword scraper tool                        | google keyword tool scraper v2.0                   |
|                                                    | google keyword tool scraper php                    |
|                                                    | google suggest keyword suggestion scraper tool     |



| scraping with google docs                          | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |

| web scraping using google docs                     | web scraping using google docs xpath               |


| web scraping with google docs                      | web scraping with google docs spreadsheets         |



| google web scraping tool                           | google web scraping tools                          |




Recursion level 3 contains 1 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |






















| web scraping with google docs                      | web scraping with google docs spreadsheets         |</div><br><p style='margin-left:20px'><b>Keyword: 'Scraping Google' </b> Using mutation,english preference, 3 level spidering in Firefox API mode
Provides double the amount of results, maybe not as relevant.
</p><div style="width:900px; height:250px; overflow:scroll;margin-left:20px;border:solid 1px;font-size: 12px;font-family: monospace">Recursion level reached: 3, Total keywords: 696 keywords, Time spent: 293 seconds

Google Suggest Spider results
Recursion level 0 contains 117 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| scraping google                                    | scraping google finance                            |
|                                                    | scraping google results                            |
|                                                    | scraping google scholar                            |
|                                                    | scraping google news                               |
|                                                    | scraping google groups                             |
|                                                    | scraping google maps                               |
|                                                    | scraping google play                               |
|                                                    | scraping google search results python              |
|                                                    | scraping google cache                              |
|                                                    | scraping google trends                             |

| scraping google a                                  | scraping google adwords                            |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape google ads                                  |
|                                                    | scrape google autocomplete                         |
|                                                    | scrape google analytics real time                  |
|                                                    | scrape google art project                          |
|                                                    | google scraping api                                |
|                                                    | web scraping google app engine                     |

| scraping google b                                  | scrape google books                                |
|                                                    | scrape google business listings                    |
|                                                    | scrape google blog search                          |
|                                                    | scrape google local business                       |
|                                                    | bing scraping google                               |

| scraping google c                                  | scraping google cache                              |
|                                                    | scrape google captcha                              |
|                                                    | scrape google calendar                             |
|                                                    | google chrome scraper                              |
|                                                    | screen scraping google chrome                      |
|                                                    | scraping google results c#                         |
|                                                    | google content scraping                            |

| scraping google d                                  | scraping google docs                               |
|                                                    | scrape data google keyword tool                    |
|                                                    | web scraping google docs                           |
|                                                    | scrape google finance data                         |
|                                                    | scraping websites with google docs                 |
|                                                    | google data scraping                               |
|                                                    | data scraping google maps                          |

| scraping google e                                  | scrape emails google                               |
|                                                    | scrape google results excel                        |
|                                                    | web scraping google app engine                     |

| scraping google f                                  | scraping google finance                            |
|                                                    | scraping from google                               |
|                                                    | scrape google places free                          |
|                                                    | scraping data from google maps                     |
|                                                    | scrape google product feed                         |

| scraping google g                                  | scraping google groups                             |
|                                                    | scrape google without getting banned               |


| scraping google i                                  | scraping google images                             |
|                                                    | scrape google results into excel                   |
|                                                    | python scrape google images                        |

| scraping google j                                  | scraping google java                               |

| scraping google k                                  | scraping google keyword tool                       |
|                                                    | scrape google keyword planner                      |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |

| scraping google l                                  | scrape google local results                        |
|                                                    | scrape google local business                       |
|                                                    | scrape google listings                             |
|                                                    | scrape links google                                |
|                                                    | scrape google business listings                    |

| scraping google m                                  | scraping google maps                               |
|                                                    | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google n                                  | scraping google news                               |
|                                                    | scrape google news python                          |
|                                                    | scrape google nokogiri                             |
|                                                    | scrape google .net                                 |

| scraping google o                                  | scrape google online                               |

| scraping google p                                  | scraping google play                               |
|                                                    | scraping google places                             |
|                                                    | scraping google plus                               |
|                                                    | scraping google pages                              |
|                                                    | scrape google python                               |
|                                                    | scrape google php                                  |
|                                                    | scrape google places free                          |
|                                                    | google scraping proxy                              |
|                                                    | scrape google news python                          |
|                                                    | scrape google results php                          |


| scraping google r                                  | scraping google results                            |
|                                                    | scraping google ranks for fun and profit           |
|                                                    | scraping google results c#                         |
|                                                    | scrape google results into excel                   |
|                                                    | scrape google results php                          |
|                                                    | scrape google results software                     |
|                                                    | scrape google results excel                        |
|                                                    | scraping google search results python              |
|                                                    | bing scraping google results                       |
|                                                    | screen scraping google results                     |

| scraping google s                                  | scraping google scholar                            |
|                                                    | scraping google search results                     |
|                                                    | scraping google search results python              |
|                                                    | scraping google search results php                 |
|                                                    | scraping google spreadsheet                        |
|                                                    | scraping google shopping                           |
|                                                    | google suggest scraper                             |
|                                                    | scrape google shopping results                     |
|                                                    | scrape google search results java                  |
|                                                    | scrape google search results excel                 |

| scraping google t                                  | scraping google trends                             |
|                                                    | scraping google translate                          |
|                                                    | google scraping tool                               |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google with tor                           |
|                                                    | scraping google adwords keyword tool               |

| scraping google u                                  | scraping using google                              |
|                                                    | web scraping using google docs                     |


| scraping google w                                  | scraping google with python                        |
|                                                    | scraping google with tor                           |
|                                                    | scrape google without getting banned               |
|                                                    | scraping with google docs                          |
|                                                    | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |
|                                                    | google web scraping                                |
|                                                    | web scraping google search results                 |
|                                                    | web scraping google app engine                     |
|                                                    | web scraping google scholar                        |




Recursion level 1 contains 171 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| scraping google finance                            | scraping google finance                            |

| scraping google results                            | scraping google results                            |
|                                                    | scraping google results c#                         |
|                                                    | scrape google results into excel                   |
|                                                    | scrape google results php                          |
|                                                    | scrape google results software                     |
|                                                    | scrape google results excel                        |
|                                                    | scraping google search results python              |
|                                                    | bing scraping google results                       |
|                                                    | screen scraping google results                     |
|                                                    | scraping google search results php                 |

| scraping google scholar                            | scraping google scholar                            |
|                                                    | scrape google scholar results                      |
|                                                    | web scraping google scholar                        |

| scraping google news                               | scraping google news                               |
|                                                    | scrape google news python                          |

| scraping google groups                             | scraping google groups                             |

| scraping google maps                               | scraping google maps                               |
|                                                    | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google play                               | scraping google play                               |

| scraping google search results python              | scraping google search results python              |

| scraping google cache                              | scraping google cache                              |

| scraping google trends                             | scraping google trends                             |

| scraping google adwords                            | scraping google adwords                            |
|                                                    | scraping google adwords keyword tool               |

| scraping google adwords keyword tool               | scraping google adwords keyword tool               |

| scrape google ads                                  | scrape google ads                                  |

| scrape google autocomplete                         | scrape google autocomplete                         |

| scrape google analytics real time                  | scrape google analytics real time                  |

| scrape google art project                          | scrape google art project                          |

| google scraping api                                | google scraping api                                |
|                                                    | web scraping google api                            |

| web scraping google app engine                     | web scraping google app engine                     |

| scrape google books                                | scrape google books                                |

| scrape google business listings                    | scrape google business listings                    |

| scrape google blog search                          | scrape google blog search                          |

| scrape google local business                       | scrape google local business                       |

| bing scraping google                               | bing scraping google                               |

| scrape google captcha                              | scrape google captcha                              |

| scrape google calendar                             | scrape google calendar                             |

| google chrome scraper                              | google chrome scraper                              |
|                                                    | google chrome scraper tutorial                     |
|                                                    | how to use google chrome scraper                   |

| screen scraping google chrome                      | screen scraping google chrome                      |

| scraping google results c#                         | scraping google results c#                         |

| google content scraping                            | google content scraping                            |

| scraping google docs                               | scraping google docs                               |
|                                                    | web scraping google docs                           |
|                                                    | scraping websites with google docs                 |

| scrape data google keyword tool                    | scrape data google keyword tool                    |

| web scraping google docs                           | web scraping google docs                           |

| scrape google finance data                         | scrape google finance data                         |

| scraping websites with google docs                 | scraping websites with google docs                 |

| google data scraping                               | google data scraping                               |
|                                                    | google chrome data scraping                        |
|                                                    | data scraping google maps                          |

| data scraping google maps                          | data scraping google maps                          |

| scrape emails google                               | scrape emails google                               |
|                                                    | scrape emails from google search                   |

| scrape google results excel                        | scrape google results excel                        |
|                                                    | scrape google results into excel                   |

| scraping from google                               | scraping from google                               |
|                                                    | scraping data from google maps                     |
|                                                    | scraping google maps                               |
|                                                    | scraping google images                             |
|                                                    | scraping google finance                            |
|                                                    | scraping google play                               |
|                                                    | scraping google scholar                            |
|                                                    | scraping google places                             |
|                                                    | scraping google groups                             |
|                                                    | scraping google translate                          |

| scrape google places free                          | scrape google places free                          |

| scraping data from google maps                     | scraping data from google maps                     |

| scrape google product feed                         | scrape google product feed                         |

| scrape google without getting banned               | scrape google without getting banned               |

| scraping google images                             | scraping google images                             |
|                                                    | python scrape google images                        |

| scrape google results into excel                   | scrape google results into excel                   |

| python scrape google images                        | python scrape google images                        |

| scraping google java                               | scraping google java                               |

| scraping google keyword tool                       | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |

| scrape google keyword planner                      | scrape google keyword planner                      |

| scrape google local results                        | scrape google local results                        |

| scrape google listings                             | scrape google listings                             |
|                                                    | scrape google business listings                    |

| scrape links google                                | scrape links google                                |

| scraping google maps results                       | scraping google maps results                       |

| screen scrape google maps                          | screen scrape google maps                          |

| scrape google news python                          | scrape google news python                          |

| scrape google nokogiri                             | scrape google nokogiri                             |

| scrape google .net                                 | scrape google .net                                 |

| scrape google online                               | scrape google online                               |
|                                                    | scrape google search results online                |

| scraping google places                             | scraping google places                             |
|                                                    | scrape google places free                          |
|                                                    | php scrape google places                           |

| scraping google plus                               | scraping google plus                               |

| scraping google pages                              | scraping google pages                              |

| scrape google python                               | scrape google python                               |
|                                                    | scrape google news python                          |
|                                                    | scrape google search results python                |
|                                                    | python scrape google finance                       |

| scrape google php                                  | scrape google php                                  |
|                                                    | scrape google results php                          |
|                                                    | scrape google search results php                   |
|                                                    | php scrape google places                           |

| google scraping proxy                              | google scraping proxy                              |

| scrape google results php                          | scrape google results php                          |
|                                                    | scrape google search results php                   |

| scraping google ranks for fun and profit           | scraping google ranks for fun and profit           |

| scrape google results software                     | scrape google results software                     |

| bing scraping google results                       | bing scraping google results                       |

| screen scraping google results                     | screen scraping google results                     |
|                                                    | screen scraping google search results              |

| scraping google search results                     | scraping google search results                     |
|                                                    | scraping google search results python              |
|                                                    | scraping google search results php                 |
|                                                    | scrape google search results java                  |
|                                                    | scrape google search results excel                 |
|                                                    | scrape google search results online                |
|                                                    | web scraping google search results                 |
|                                                    | screen scraping google search results              |

| scraping google search results php                 | scraping google search results php                 |

| scraping google spreadsheet                        | scraping google spreadsheet                        |
|                                                    | scraping google docs                               |

| scraping google shopping                           | scraping google shopping                           |
|                                                    | scrape google shopping results                     |

| google suggest scraper                             | google suggest scraper                             |
|                                                    | google suggest scraper php                         |
|                                                    | google suggest scraper script                      |
|                                                    | google suggest scraper php script                  |
|                                                    | google suggest keyword suggestion scraper tool     |

| scrape google shopping results                     | scrape google shopping results                     |

| scrape google search results java                  | scrape google search results java                  |

| scrape google search results excel                 | scrape google search results excel                 |

| scraping google translate                          | scraping google translate                          |

| google scraping tool                               | google scraping tool                               |
|                                                    | google suggest scraper tool                        |
|                                                    | google keyword scraper tool                        |
|                                                    | google places scraper tool                         |
|                                                    | google url scraper tool                            |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |

| scraping google with tor                           | scraping google with tor                           |

| scraping using google                              | scraping using google                              |
|                                                    | scraping with google docs                          |
|                                                    | web scraping using google docs                     |
|                                                    | scraping google with python                        |
|                                                    | scraping google with tor                           |

| web scraping using google docs                     | web scraping using google docs xpath               |
|                                                    | web scraping using google docs                     |

| scraping google with python                        | scraping google with python                        |

| scraping with google docs                          | scraping with google docs                          |
|                                                    | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |

| web scraping with google docs                      | web scraping with google docs                      |
|                                                    | web scraping with google docs spreadsheets         |

| google web scraping                                | google web scraping                                |
|                                                    | google web scraping api                            |
|                                                    | google web scraping tool                           |
|                                                    | google refine web scraping                         |
|                                                    | google docs web scraping                           |
|                                                    | google apps script web scraping                    |
|                                                    | web scraping google search results                 |
|                                                    | web scraping google scholar                        |

| web scraping google search results                 | web scraping google search results                 |

| web scraping google scholar                        | web scraping google scholar                        |

Recursion level 2 contains 203 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| scraping google finance                            | scraping google finance                            |

| scraping google results                            | scraping google results                            |
|                                                    | scraping google results c#                         |
|                                                    | scrape google results into excel                   |
|                                                    | scrape google results php                          |
|                                                    | scrape google results software                     |
|                                                    | scrape google results excel                        |
|                                                    | scraping google search results python              |
|                                                    | bing scraping google results                       |
|                                                    | screen scraping google results                     |
|                                                    | scraping google search results php                 |

| scraping google results c#                         | scraping google results c#                         |

| scrape google results into excel                   | scrape google results into excel                   |

| scrape google results php                          | scrape google results php                          |
|                                                    | scrape google search results php                   |

| scrape google results software                     | scrape google results software                     |

| scrape google results excel                        | scrape google results excel                        |
|                                                    | scrape google results into excel                   |

| scraping google search results python              | scraping google search results python              |

| bing scraping google results                       | bing scraping google results                       |

| screen scraping google results                     | screen scraping google results                     |
|                                                    | screen scraping google search results              |

| scraping google search results php                 | scraping google search results php                 |

| scraping google scholar                            | scraping google scholar                            |
|                                                    | scrape google scholar results                      |
|                                                    | web scraping google scholar                        |

| scrape google scholar results                      | scrape google scholar results                      |

| web scraping google scholar                        | web scraping google scholar                        |

| scraping google news                               | scraping google news                               |
|                                                    | scrape google news python                          |

| scrape google news python                          | scrape google news python                          |

| scraping google groups                             | scraping google groups                             |

| scraping google maps                               | scraping google maps                               |
|                                                    | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google maps results                       | scraping google maps results                       |

| data scraping google maps                          | data scraping google maps                          |

| screen scrape google maps                          | screen scrape google maps                          |

| scraping google play                               | scraping google play                               |

| scraping google cache                              | scraping google cache                              |

| scraping google trends                             | scraping google trends                             |

| scraping google adwords                            | scraping google adwords                            |
|                                                    | scraping google adwords keyword tool               |

| scraping google adwords keyword tool               | scraping google adwords keyword tool               |

| scrape google ads                                  | scrape google ads                                  |

| scrape google autocomplete                         | scrape google autocomplete                         |

| scrape google analytics real time                  | scrape google analytics real time                  |

| scrape google art project                          | scrape google art project                          |

| google scraping api                                | google scraping api                                |
|                                                    | web scraping google api                            |

| web scraping google api                            | web scraping google api                            |

| web scraping google app engine                     | web scraping google app engine                     |

| scrape google books                                | scrape google books                                |

| scrape google business listings                    | scrape google business listings                    |

| scrape google blog search                          | scrape google blog search                          |

| scrape google local business                       | scrape google local business                       |

| bing scraping google                               | bing scraping google                               |

| scrape google captcha                              | scrape google captcha                              |

| scrape google calendar                             | scrape google calendar                             |

| google chrome scraper                              | google chrome scraper                              |
|                                                    | google chrome scraper tutorial                     |
|                                                    | how to use google chrome scraper                   |

| google chrome scraper tutorial                     | google chrome scraper tutorial                     |

| how to use google chrome scraper                   | how to use google chrome scraper                   |

| screen scraping google chrome                      | screen scraping google chrome                      |

| google content scraping                            | google content scraping                            |

| scraping google docs                               | scraping google docs                               |
|                                                    | web scraping google docs                           |
|                                                    | scraping websites with google docs                 |

| web scraping google docs                           | web scraping google docs                           |

| scraping websites with google docs                 | scraping websites with google docs                 |

| scrape data google keyword tool                    | scrape data google keyword tool                    |

| scrape google finance data                         | scrape google finance data                         |

| google data scraping                               | google data scraping                               |
|                                                    | google chrome data scraping                        |
|                                                    | data scraping google maps                          |

| google chrome data scraping                        | google chrome data scraping                        |

| scrape emails google                               | scrape emails google                               |
|                                                    | scrape emails from google search                   |

| scrape emails from google search                   | scrape emails from google search                   |

| scraping from google                               | scraping from google                               |
|                                                    | scraping data from google maps                     |
|                                                    | scraping google maps                               |
|                                                    | scraping google images                             |
|                                                    | scraping google finance                            |
|                                                    | scraping google play                               |
|                                                    | scraping google scholar                            |
|                                                    | scraping google places                             |
|                                                    | scraping google groups                             |
|                                                    | scraping google translate                          |

| scraping data from google maps                     | scraping data from google maps                     |

| scraping google images                             | scraping google images                             |
|                                                    | python scrape google images                        |

| scraping google places                             | scraping google places                             |
|                                                    | scrape google places free                          |
|                                                    | php scrape google places                           |

| scraping google translate                          | scraping google translate                          |

| scrape google places free                          | scrape google places free                          |

| scrape google product feed                         | scrape google product feed                         |

| scrape google without getting banned               | scrape google without getting banned               |

| python scrape google images                        | python scrape google images                        |

| scraping google java                               | scraping google java                               |

| scraping google keyword tool                       | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |

| scrape google keyword planner                      | scrape google keyword planner                      |

| scrape google local results                        | scrape google local results                        |

| scrape google listings                             | scrape google listings                             |
|                                                    | scrape google business listings                    |

| scrape links google                                | scrape links google                                |

| scrape google nokogiri                             | scrape google nokogiri                             |

| scrape google .net                                 | scrape google .net                                 |

| scrape google online                               | scrape google online                               |
|                                                    | scrape google search results online                |

| scrape google search results online                | scrape google search results online                |

| php scrape google places                           | php scrape google places                           |

| scraping google plus                               | scraping google plus                               |

| scraping google pages                              | scraping google pages                              |

| scrape google python                               | scrape google python                               |
|                                                    | scrape google news python                          |
|                                                    | scrape google search results python                |
|                                                    | python scrape google finance                       |

| scrape google search results python                | scrape google search results python                |

| python scrape google finance                       | python scrape google finance                       |

| scrape google php                                  | scrape google php                                  |
|                                                    | scrape google results php                          |
|                                                    | scrape google search results php                   |
|                                                    | php scrape google places                           |

| scrape google search results php                   | scrape google search results php                   |

| google scraping proxy                              | google scraping proxy                              |

| scraping google ranks for fun and profit           | scraping google ranks for fun and profit           |

| screen scraping google search results              | screen scraping google search results              |

| scraping google search results                     | scraping google search results                     |
|                                                    | scraping google search results python              |
|                                                    | scraping google search results php                 |
|                                                    | scrape google search results java                  |
|                                                    | scrape google search results excel                 |
|                                                    | scrape google search results online                |
|                                                    | web scraping google search results                 |
|                                                    | screen scraping google search results              |

| scrape google search results java                  | scrape google search results java                  |

| scrape google search results excel                 | scrape google search results excel                 |

| web scraping google search results                 | web scraping google search results                 |

| scraping google spreadsheet                        | scraping google spreadsheet                        |
|                                                    | scraping google docs                               |

| scraping google shopping                           | scraping google shopping                           |
|                                                    | scrape google shopping results                     |

| scrape google shopping results                     | scrape google shopping results                     |

| google suggest scraper                             | google suggest scraper                             |
|                                                    | google suggest scraper php                         |
|                                                    | google suggest scraper script                      |
|                                                    | google suggest scraper php script                  |
|                                                    | google suggest keyword suggestion scraper tool     |

| google suggest scraper php                         | google suggest scraper php                         |
|                                                    | google suggest scraper php script                  |

| google suggest scraper script                      | google suggest scraper script                      |
|                                                    | google suggest scraper php script                  |

| google suggest scraper php script                  | google suggest scraper php script                  |

| google suggest keyword suggestion scraper tool     | google suggest keyword suggestion scraper tool     |

| google scraping tool                               | google scraping tool                               |
|                                                    | google suggest scraper tool                        |
|                                                    | google keyword scraper tool                        |
|                                                    | google places scraper tool                         |
|                                                    | google url scraper tool                            |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |

| google suggest scraper tool                        | google suggest scraper tool                        |

| google keyword scraper tool                        | google keyword scraper tool                        |
|                                                    | google keyword tool scraper v2.0                   |
|                                                    | google keyword tool scraper php                    |
|                                                    | google suggest keyword suggestion scraper tool     |

| google places scraper tool                         | google places scraper tool                         |

| google url scraper tool                            | google url scraper tool                            |

| scraping google with tor                           | scraping google with tor                           |

| scraping using google                              | scraping using google                              |
|                                                    | scraping with google docs                          |
|                                                    | web scraping using google docs                     |
|                                                    | scraping google with python                        |
|                                                    | scraping google with tor                           |

| scraping with google docs                          | scraping with google docs                          |
|                                                    | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |

| web scraping using google docs                     | web scraping using google docs xpath               |
|                                                    | web scraping using google docs                     |

| scraping google with python                        | scraping google with python                        |

| web scraping using google docs xpath               | web scraping using google docs xpath               |

| web scraping with google docs                      | web scraping with google docs                      |
|                                                    | web scraping with google docs spreadsheets         |

| web scraping with google docs spreadsheets         | web scraping with google docs spreadsheets         |

| google web scraping                                | google web scraping                                |
|                                                    | google web scraping api                            |
|                                                    | google web scraping tool                           |
|                                                    | google refine web scraping                         |
|                                                    | google docs web scraping                           |
|                                                    | google apps script web scraping                    |
|                                                    | web scraping google search results                 |
|                                                    | web scraping google scholar                        |

| google web scraping api                            | google web scraping api                            |

| google web scraping tool                           | google web scraping tools                          |

| google refine web scraping                         | google refine web scraping                         |

| google docs web scraping                           | google docs web scraping                           |

| google apps script web scraping                    | google apps script web scraping                    |

Recursion level 3 contains 205 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| scraping google finance                            | scraping google finance                            |

| scraping google results                            | scraping google results                            |
|                                                    | scraping google results c#                         |
|                                                    | scrape google results into excel                   |
|                                                    | scrape google results php                          |
|                                                    | scrape google results software                     |
|                                                    | scrape google results excel                        |
|                                                    | scraping google search results python              |
|                                                    | bing scraping google results                       |
|                                                    | screen scraping google results                     |
|                                                    | scraping google search results php                 |

| scraping google results c#                         | scraping google results c#                         |

| scrape google results into excel                   | scrape google results into excel                   |

| scrape google results php                          | scrape google results php                          |
|                                                    | scrape google search results php                   |

| scrape google results software                     | scrape google results software                     |

| scrape google results excel                        | scrape google results excel                        |
|                                                    | scrape google results into excel                   |

| scraping google search results python              | scraping google search results python              |

| bing scraping google results                       | bing scraping google results                       |

| screen scraping google results                     | screen scraping google results                     |
|                                                    | screen scraping google search results              |

| scraping google search results php                 | scraping google search results php                 |

| scrape google search results php                   | scrape google search results php                   |

| screen scraping google search results              | screen scraping google search results              |

| scraping google scholar                            | scraping google scholar                            |
|                                                    | scrape google scholar results                      |
|                                                    | web scraping google scholar                        |

| scrape google scholar results                      | scrape google scholar results                      |

| web scraping google scholar                        | web scraping google scholar                        |

| scraping google news                               | scraping google news                               |
|                                                    | scrape google news python                          |

| scrape google news python                          | scrape google news python                          |

| scraping google groups                             | scraping google groups                             |

| scraping google maps                               | scraping google maps                               |
|                                                    | scraping google maps results                       |
|                                                    | data scraping google maps                          |
|                                                    | screen scrape google maps                          |

| scraping google maps results                       | scraping google maps results                       |

| data scraping google maps                          | data scraping google maps                          |

| screen scrape google maps                          | screen scrape google maps                          |

| scraping google play                               | scraping google play                               |

| scraping google cache                              | scraping google cache                              |

| scraping google trends                             | scraping google trends                             |

| scraping google adwords                            | scraping google adwords                            |
|                                                    | scraping google adwords keyword tool               |

| scraping google adwords keyword tool               | scraping google adwords keyword tool               |

| scrape google ads                                  | scrape google ads                                  |

| scrape google autocomplete                         | scrape google autocomplete                         |

| scrape google analytics real time                  | scrape google analytics real time                  |

| scrape google art project                          | scrape google art project                          |

| google scraping api                                | google scraping api                                |
|                                                    | web scraping google api                            |

| web scraping google api                            | web scraping google api                            |

| web scraping google app engine                     | web scraping google app engine                     |

| scrape google books                                | scrape google books                                |

| scrape google business listings                    | scrape google business listings                    |

| scrape google blog search                          | scrape google blog search                          |

| scrape google local business                       | scrape google local business                       |

| bing scraping google                               | bing scraping google                               |

| scrape google captcha                              | scrape google captcha                              |

| scrape google calendar                             | scrape google calendar                             |

| google chrome scraper                              | google chrome scraper                              |
|                                                    | google chrome scraper tutorial                     |
|                                                    | how to use google chrome scraper                   |

| google chrome scraper tutorial                     | google chrome scraper tutorial                     |

| how to use google chrome scraper                   | how to use google chrome scraper                   |

| screen scraping google chrome                      | screen scraping google chrome                      |

| google content scraping                            | google content scraping                            |

| scraping google docs                               | scraping google docs                               |
|                                                    | web scraping google docs                           |
|                                                    | scraping websites with google docs                 |

| web scraping google docs                           | web scraping google docs                           |

| scraping websites with google docs                 | scraping websites with google docs                 |

| scrape data google keyword tool                    | scrape data google keyword tool                    |

| scrape google finance data                         | scrape google finance data                         |

| google data scraping                               | google data scraping                               |
|                                                    | google chrome data scraping                        |
|                                                    | data scraping google maps                          |

| google chrome data scraping                        | google chrome data scraping                        |

| scrape emails google                               | scrape emails google                               |
|                                                    | scrape emails from google search                   |

| scrape emails from google search                   | scrape emails from google search                   |

| scraping from google                               | scraping from google                               |
|                                                    | scraping data from google maps                     |
|                                                    | scraping google maps                               |
|                                                    | scraping google images                             |
|                                                    | scraping google finance                            |
|                                                    | scraping google play                               |
|                                                    | scraping google scholar                            |
|                                                    | scraping google places                             |
|                                                    | scraping google groups                             |
|                                                    | scraping google translate                          |

| scraping data from google maps                     | scraping data from google maps                     |

| scraping google images                             | scraping google images                             |
|                                                    | python scrape google images                        |

| scraping google places                             | scraping google places                             |
|                                                    | scrape google places free                          |
|                                                    | php scrape google places                           |

| scraping google translate                          | scraping google translate                          |

| python scrape google images                        | python scrape google images                        |

| scrape google places free                          | scrape google places free                          |

| php scrape google places                           | php scrape google places                           |

| scrape google product feed                         | scrape google product feed                         |

| scrape google without getting banned               | scrape google without getting banned               |

| scraping google java                               | scraping google java                               |

| scraping google keyword tool                       | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |
|                                                    | scrape data google keyword tool                    |

| scrape google keyword planner                      | scrape google keyword planner                      |

| scrape google local results                        | scrape google local results                        |

| scrape google listings                             | scrape google listings                             |
|                                                    | scrape google business listings                    |

| scrape links google                                | scrape links google                                |

| scrape google nokogiri                             | scrape google nokogiri                             |

| scrape google .net                                 | scrape google .net                                 |

| scrape google online                               | scrape google online                               |
|                                                    | scrape google search results online                |

| scrape google search results online                | scrape google search results online                |

| scraping google plus                               | scraping google plus                               |

| scraping google pages                              | scraping google pages                              |

| scrape google python                               | scrape google python                               |
|                                                    | scrape google news python                          |
|                                                    | scrape google search results python                |
|                                                    | python scrape google finance                       |

| scrape google search results python                | scrape google search results python                |

| python scrape google finance                       | python scrape google finance                       |

| scrape google php                                  | scrape google php                                  |
|                                                    | scrape google results php                          |
|                                                    | scrape google search results php                   |
|                                                    | php scrape google places                           |

| google scraping proxy                              | google scraping proxy                              |

| scraping google ranks for fun and profit           | scraping google ranks for fun and profit           |

| scraping google search results                     | scraping google search results                     |
|                                                    | scraping google search results python              |
|                                                    | scraping google search results php                 |
|                                                    | scrape google search results java                  |
|                                                    | scrape google search results excel                 |
|                                                    | scrape google search results online                |
|                                                    | web scraping google search results                 |
|                                                    | screen scraping google search results              |

| scrape google search results java                  | scrape google search results java                  |

| scrape google search results excel                 | scrape google search results excel                 |

| web scraping google search results                 | web scraping google search results                 |

| scraping google spreadsheet                        | scraping google spreadsheet                        |
|                                                    | scraping google docs                               |

| scraping google shopping                           | scraping google shopping                           |
|                                                    | scrape google shopping results                     |

| scrape google shopping results                     | scrape google shopping results                     |

| google suggest scraper                             | google suggest scraper                             |
|                                                    | google suggest scraper php                         |
|                                                    | google suggest scraper script                      |
|                                                    | google suggest scraper php script                  |
|                                                    | google suggest keyword suggestion scraper tool     |

| google suggest scraper php                         | google suggest scraper php                         |
|                                                    | google suggest scraper php script                  |

| google suggest scraper script                      | google suggest scraper script                      |
|                                                    | google suggest scraper php script                  |

| google suggest scraper php script                  | google suggest scraper php script                  |

| google suggest keyword suggestion scraper tool     | google suggest keyword suggestion scraper tool     |

| google scraping tool                               | google scraping tool                               |
|                                                    | google suggest scraper tool                        |
|                                                    | google keyword scraper tool                        |
|                                                    | google places scraper tool                         |
|                                                    | google url scraper tool                            |
|                                                    | scraping google keyword tool                       |
|                                                    | scraping google adwords keyword tool               |

| google suggest scraper tool                        | google suggest scraper tool                        |

| google keyword scraper tool                        | google keyword scraper tool                        |
|                                                    | google keyword tool scraper v2.0                   |
|                                                    | google keyword tool scraper php                    |
|                                                    | google suggest keyword suggestion scraper tool     |

| google places scraper tool                         | google places scraper tool                         |

| google url scraper tool                            | google url scraper tool                            |


| google keyword tool scraper php                    | google keyword tool scraper php                    |

| scraping google with tor                           | scraping google with tor                           |

| scraping using google                              | scraping using google                              |
|                                                    | scraping with google docs                          |
|                                                    | web scraping using google docs                     |
|                                                    | scraping google with python                        |
|                                                    | scraping google with tor                           |

| scraping with google docs                          | scraping with google docs                          |
|                                                    | web scraping with google docs                      |
|                                                    | scraping websites with google docs                 |

| web scraping using google docs                     | web scraping using google docs xpath               |
|                                                    | web scraping using google docs                     |

| scraping google with python                        | scraping google with python                        |

| web scraping with google docs                      | web scraping with google docs                      |
|                                                    | web scraping with google docs spreadsheets         |

| web scraping using google docs xpath               | web scraping using google docs xpath               |

| web scraping with google docs spreadsheets         | web scraping with google docs spreadsheets         |

| google web scraping                                | google web scraping                                |
|                                                    | google web scraping api                            |
|                                                    | google web scraping tool                           |
|                                                    | google refine web scraping                         |
|                                                    | google docs web scraping                           |
|                                                    | google apps script web scraping                    |
|                                                    | web scraping google search results                 |
|                                                    | web scraping google scholar                        |

| google web scraping api                            | google web scraping api                            |

| google web scraping tool                           | google web scraping tools                          |

| google refine web scraping                         | google refine web scraping                         |

| google docs web scraping                           | google docs web scraping                           |

| google apps script web scraping                    | google apps script web scraping                    |

| google web scraping tools                          | google web scraping tools                          |</div><br><p style='margin-left:20px'><b>Keyword: 'crimea' </b>Using keyword mutation, no spidering in Firefox API mode
</p><div style="width:900px; height:250px; overflow:scroll;margin-left:20px;border:solid 1px;font-size: 12px;font-family: monospace">The first 3 recursion levels regarding the keyword "crimea"

Recursion level reached: 3, Total keywords: 747 keywords, Time spent: 371 seconds

Google Suggest Spider results
Recursion level 0 contains 10 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| crimea                                             | crimea                                             |
|                                                    | crimean war                                        |
|                                                    | crimea map                                         |
|                                                    | crimean tatar                                      |
|                                                    | crimea news                                        |
|                                                    | crimea history                                     |
|                                                    | crimea pronunciation                               |
|                                                    | crimean crisis                                     |
|                                                    | crimea referendum                                  |
|                                                    | crimea river                                       |

Recursion level 1 contains 73 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| crimea                                             | crimea                                             |
|                                                    | crimean war                                        |
|                                                    | crimea map                                         |
|                                                    | crimean tatar                                      |
|                                                    | crimea news                                        |
|                                                    | crimea history                                     |
|                                                    | crimea pronunciation                               |
|                                                    | crimean crisis                                     |
|                                                    | crimea referendum                                  |
|                                                    | crimea river                                       |

| crimean war                                        | crimean war                                        |
|                                                    | crimean war map                                    |
|                                                    | crimean war photos                                 |
|                                                    | crimean war ap euro                                |
|                                                    | crimean war documentary                            |
|                                                    | crimean war movies                                 |
|                                                    | crimean war quizlet                                |
|                                                    | crimean war poem                                   |
|                                                    | crimean war light brigade                          |
|                                                    | crimean war weapons                                |

| crimea map                                         | crimea map                                         |
|                                                    | crimea map english                                 |
|                                                    | crimea map russia                                  |
|                                                    | crimea map google                                  |
|                                                    | crimea map europe                                  |
|                                                    | crimea map 1854                                    |
|                                                    | crimea mapquest                                    |
|                                                    | crimea mapa                                        |
|                                                    | crimea map of ukraine                              |
|                                                    | crimea map image                                   |

| crimean tatar                                      | crimean tatar                                      |
|                                                    | crimean tatar flag                                 |
|                                                    | crimean tatar deportation                          |
|                                                    | crimean tatar news                                 |
|                                                    | crimean tatar diaspora                             |
|                                                    | crimean tatar tv                                   |
|                                                    | crimean tatars map                                 |
|                                                    | crimean tatars protest                             |
|                                                    | crimean tatar names                                |
|                                                    | crimean tatars turkey                              |

| crimea news                                        | crimea news                                        |
|                                                    | crimea newspapers                                  |
|                                                    | crimea news cnn                                    |
|                                                    | crimea news agency                                 |
|                                                    | crimea news today                                  |
|                                                    | crimea news video                                  |
|                                                    | crimea news update                                 |
|                                                    | crimea news bbc                                    |
|                                                    | crimea news now                                    |
|                                                    | crimea news ua                                     |

| crimea history                                     | crimea history                                     |
|                                                    | crimea history wiki                                |
|                                                    | crimea history map                                 |
|                                                    | tatar crimea history                               |
|                                                    | crimea pass history                                |
|                                                    | brief history crimea                               |
|                                                    | bbc history crimea                                 |
|                                                    | crimea street belfast history                      |

| crimea pronunciation                               | crimea pronunciation                               |

| crimean crisis                                     | crimean crisis                                     |
|                                                    | crimean crisis airsoft                             |

| crimea referendum                                  | crimea referendum                                  |
|                                                    | crimea referendum results                          |

| crimea river                                       | crimea river                                       |
|                                                    | crimea river by justin timberlake                  |
|                                                    | crimea river song                                  |
|                                                    | crimea river lyrics                                |
|                                                    | crimea river ltd                                   |
|                                                    | crimea river cruises                               |
|                                                    | crimea river map                                   |
|                                                    | spieltape - crimea river ep                        |
|                                                    | who sang crimea river                              |
|                                                    | michael buble crimea river                         |

Recursion level 2 contains 203 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| crimea                                             | crimean war                                        |
|                                                    | crimea                                             |
|                                                    | crimean tatar                                      |
|                                                    | crimean war definition                             |
|                                                    | crimean khanate                                    |
|                                                    | crimean war causes                                 |
|                                                    | crimea vote                                        |
|                                                    | crimea river                                       |
|                                                    | crimean congo hemorrhagic fever                    |
|                                                    | crimean war ap euro                                |

| crimean war                                        | crimean war                                        |
|                                                    | crimean war definition                             |
|                                                    | crimean war causes                                 |
|                                                    | crimean war ap euro                                |
|                                                    | crimean war timeline                               |
|                                                    | crimean war charge of the light brigade            |
|                                                    | crimean war quizlet                                |
|                                                    | crimean war battles                                |
|                                                    | crimean war documentary                            |
|                                                    | crimean war effects on russia                      |

| crimea map                                         | crimea map                                         |
|                                                    | crimea map google                                  |
|                                                    | crimea map english                                 |
|                                                    | crimea mapa                                        |
|                                                    | crimea mappa                                       |
|                                                    | balaklava crimea map                               |
|                                                    | crimean war map                                    |
|                                                    | crimea pass map                                    |
|                                                    | yalta crimea map                                   |
|                                                    | crimean peninsula map                              |

| crimean tatar                                      | crimean tatar                                      |
|                                                    | crimean tatar language                             |
|                                                    | crimean tatar bow                                  |
|                                                    | crimean tatar names                                |
|                                                    | crimean tatars map                                 |
|                                                    | crimean tatar diaspora                             |
|                                                    | crimean tatar flag                                 |
|                                                    | crimean tatars religion                            |
|                                                    | crimean tatar surnames                             |
|                                                    | crimean tatar music                                |

| crimea news                                        | crimea news                                        |
|                                                    | crimea newspapers                                  |
|                                                    | crimea news ua                                     |
|                                                    | crimea newsagency                                  |
|                                                    | crimea news morley                                 |
|                                                    | crimea ukraine news                                |
|                                                    | crimea street newsagency                           |
|                                                    | crimea latest news                                 |
|                                                    | all crimea news                                    |

| crimea history                                     | crimea history                                     |
|                                                    | crimea history timeline                            |
|                                                    | crimea history washington post                     |
|                                                    | crimea history summary                             |
|                                                    | crimea history maps                                |
|                                                    | crimea history youtube                             |
|                                                    | crimea history bbc                                 |
|                                                    | crimea history with ukraine                        |
|                                                    | crimea history of conflict                         |
|                                                    | crimea history wikipedia                           |

| crimea pronunciation                               | crimea pronunciation                               |
|                                                    | crimea pronunciation russian                       |
|                                                    | crimea pronunciation in ukrainian                  |
|                                                    | crimea pronunciation audio                         |
|                                                    | crimean pronunciation                              |

| crimean crisis                                     | crimean crisis                                     |
|                                                    | crimean crisis timeline                            |
|                                                    | crimean crisis milsim west                         |
|                                                    | crimean crisis news                                |
|                                                    | crimean crisis airsoft                             |
|                                                    | crimean crisis analysis                            |
|                                                    | crimean crisis map                                 |
|                                                    | crimean crisis cnn                                 |
|                                                    | crimean crisis summary                             |
|                                                    | crimean crisis bbc                                 |

| crimea referendum                                  | crimea referendum                                  |
|                                                    | crimea referendum results                          |
|                                                    | crimea referendum 1991                             |
|                                                    | crimea referendum 1992                             |
|                                                    | crimea referendum question                         |
|                                                    | crimea referendum vote                             |
|                                                    | crimea referendum poll                             |
|                                                    | crimea referendum march                            |
|                                                    | crimea referendum international law                |
|                                                    | crimea referendum march 16                         |

| crimea river                                       | crimea river                                       |
|                                                    | crimea river ukraine                               |
|                                                    | crimea river meme                                  |
|                                                    | crimea river song                                  |
|                                                    | crimea river by justin timberlake                  |
|                                                    | crimea river map                                   |
|                                                    | crimea river twitter                               |
|                                                    | crimea river reddit                                |
|                                                    | crimea river joke                                  |
|                                                    | crimea river lyrics                                |

| crimean war map                                    | crimean war map                                    |
|                                                    | crimean war map english                            |
|                                                    | crimean war map europe                             |
|                                                    | sevastopol crimean war map                         |
|                                                    | crimean war battles map                            |
|                                                    | crimean war location map                           |
|                                                    | crimean war mind map                               |
|                                                    | florence nightingale crimean war map               |
|                                                    | ottoman empire crimean war map                     |

| crimean war photos                                 | crimean war photos                                 |
|                                                    | crimean war photos florence nightingale            |
|                                                    | crimean war photo cannonballs                      |
|                                                    | crimean war photo valley of the shadow of death    |
|                                                    | crimean war photo errol morris                     |
|                                                    | crimean war photo shadow of death                  |
|                                                    | crimean war photo gallery                          |
|                                                    | crimean war battlefield photos                     |
|                                                    | crimean war veterans photos                        |

| crimean war ap euro                                | crimean war ap euro                                |
|                                                    | crimean war ap euro definition                     |

| crimean war documentary                            | crimean war documentary                            |

| crimean war movies                                 | crimean war movies                                 |

| crimean war quizlet                                | crimean war quizlet                                |
|                                                    | crimean war ap euro quizlet                        |
|                                                    | the crimean war involved quizlet                   |

| crimean war poem                                   | crimean war poem                                   |
|                                                    | crimean war poem about the charge of the light bri |

| crimean war light brigade                          | crimean war light brigade                          |
|                                                    | crimean war charge of the light brigade poem       |

| crimean war weapons                                | crimean war weapons                                |
|                                                    | crimean war weapons used                           |
|                                                    | crimean war weapons tactics                        |
|                                                    | crimean war weaponry                               |
|                                                    | crimean war russian weapons                        |
|                                                    | crimean war british weapons                        |
|                                                    | crimean war uniforms and weapons                   |

| crimea map english                                 | crimea map english                                 |

| crimea map russia                                  | crimea map russia                                  |
|                                                    | crimea map russia ukraine                          |
|                                                    | crimea map russian                                 |

| crimea map google                                  | crimea map google                                  |

| crimea map europe                                  | crimea map europe                                  |
|                                                    | crimean war map europe                             |
|                                                    | crimean peninsula map europe                       |

| crimea map 1854                                    | crimea map 1854                                    |

| crimea mapquest                                    | crimea mapquest                                    |

| crimea mapa                                        | crimea mapa                                        |
|                                                    | crimea mapa politico                               |
|                                                    | crimea mapa fisico                                 |
|                                                    | pennsula crimea mapa                             |
|                                                    | guerra de crimea mapa                              |
|                                                    | mapa crimea ucrania                                |
|                                                    | yalta crimea mapa                                  |
|                                                    | crimea ubicacion mapa                              |
|                                                    | guerra de crimea mapa conceptual                   |

| crimea map of ukraine                              | crimea map of ukraine                              |

| crimea map image                                   | crimea map image                                   |

| crimean tatar flag                                 | crimean tatar flag                                 |

| crimean tatar deportation                          | crimean tatar deportation                          |

| crimean tatar news                                 | crimean tatar news                                 |

| crimean tatar diaspora                             | crimean tatar diaspora                             |


| crimean tatars map                                 | crimean tatars map                                 |


| crimean tatar names                                | crimean tatar names                                |

| crimean tatars turkey                              | crimean tatars turkey                              |

| crimea newspapers                                  | crimea newspapers                                  |
|                                                    | crimea newspapers in english                       |

| crimea news cnn                                    | crimea news cnn                                    |

| crimea news agency                                 | crimea news agency                                 |






| crimea news ua                                     | crimea news ua                                     |

| crimea history wiki                                | crimea history wiki                                |

| crimea history map                                 | crimea history map                                 |

| tatar crimea history                               | tatar crimea history                               |
|                                                    | crimean tatar history                              |

| crimea pass history                                | crimea pass history                                |

| brief history crimea                               | brief history crimea                               |
|                                                    | brief history crimean war                          |

| bbc history crimea                                 | bbc history crimean war                            |

| crimea street belfast history                      | crimea street belfast history                      |

| crimean crisis airsoft                             | crimean crisis airsoft                             |

| crimea referendum results                          | crimea referendum results                          |

| crimea river by justin timberlake                  | crimea river by justin timberlake                  |
|                                                    | cry me a river by justin timberlake lyrics         |
|                                                    | cry me a river by justin timberlake mp3 download   |
|                                                    | cry me a river by justin timberlake free mp3 downl |
|                                                    | cry me a river by justin timberlake meaning        |
|                                                    | cry me a river by justin timberlake about britney  |
|                                                    | cry me a river by justin timberlake chords         |
|                                                    | cry me a river song by justin timberlake           |
|                                                    | cry me a river justin timberlake tumblr            |
|                                                    | cry me a river justin timberlake piano sheet music |

| crimea river song                                  | crimea river song                                  |

| crimea river lyrics                                | crimea river lyrics                                |

| crimea river ltd                                   | crimea river ltd                                   |

| crimea river cruises                               | crimea river cruises                               |

| crimea river map                                   | crimea river map                                   |

| spieltape - crimea river ep                        | spieltape - crimea river ep                        |
|                                                    | spieltape  crimea river ep mood 114             |

| who sang crimea river                              | who sang crimea river                              |
|                                                    | who sings crimea river                             |

| michael buble crimea river                         | michael buble crimea river                         |
|                                                    | michael buble cry me a river                       |
|                                                    | michael buble cry me a river lyrics                |
|                                                    | michael buble cry me a river mp3                   |
|                                                    | michael buble cry me a river chords                |
|                                                    | michael buble cry me a river mp3 download          |
|                                                    | michael buble cry me a river karaoke               |
|                                                    | michael buble cry me a river official video        |
|                                                    | michael buble cry me a river instrumental          |
|                                                    | michael buble cry me a river sheet music           |

Recursion level 3 contains 461 keywords:
| Keyword                                            | Suggests                                           |
| -------------------------------------------------- | -------------------------------------------------- |
| crimean war                                        | crimean war                                        |
|                                                    | crimean war definition                             |
|                                                    | crimean war causes                                 |
|                                                    | crimean war ap euro                                |
|                                                    | crimean war timeline                               |
|                                                    | crimean war charge of the light brigade            |
|                                                    | crimean war quizlet                                |
|                                                    | crimean war battles                                |
|                                                    | crimean war documentary                            |
|                                                    | crimean war effects on russia                      |

| crimea                                             | crimean war                                        |
|                                                    | crimea                                             |
|                                                    | crimean tatar                                      |
|                                                    | crimean war definition                             |
|                                                    | crimean khanate                                    |
|                                                    | crimean war causes                                 |
|                                                    | crimea vote                                        |
|                                                    | crimea river                                       |
|                                                    | crimean congo hemorrhagic fever                    |
|                                                    | crimean war ap euro                                |

| crimean tatar                                      | crimean tatar                                      |
|                                                    | crimean tatar language                             |
|                                                    | crimean tatar bow                                  |
|                                                    | crimean tatar names                                |
|                                                    | crimean tatars map                                 |
|                                                    | crimean tatar diaspora                             |
|                                                    | crimean tatar flag                                 |
|                                                    | crimean tatars religion                            |
|                                                    | crimean tatar surnames                             |
|                                                    | crimean tatar music                                |

| crimean war definition                             | crimean war definition                             |
|                                                    | crimean war definition quizlet                     |

| crimean khanate                                    | crimean khanate                                    |
|                                                    | crimean khanate mount and blade                    |
|                                                    | crimean khanate empire total war                   |
|                                                    | crimean khanate flag                               |
|                                                    | crimean khanate units                              |
|                                                    | crimean khanate map                                |
|                                                    | crimean khanate population                         |
|                                                    | crimean khanate napoleon total war                 |
|                                                    | crimean khanate coins                              |
|                                                    | crimean khanate slave trade                        |

| crimean war causes                                 | crimean war causes and effects                     |
|                                                    | crimean war causes                                 |
|                                                    | crimean war causes and results                     |
|                                                    | crimean war causes timeline                        |
|                                                    | crimean war death causes                           |
|                                                    | crimean war main causes                            |
|                                                    | crimean war long term causes                       |
|                                                    | the crimean war general causes                     |
|                                                    | crimean war causes and outcomes                    |

| crimea vote                                        | crimea vote                                        |
|                                                    | crimea vote march 16                               |
|                                                    | crimea vote to secede                              |
|                                                    | crimea vote for independence                       |
|                                                    | crimea votes to russia                             |
|                                                    | crimea vote on joining russia                      |
|                                                    | crimea voted to secede from ukraine                |
|                                                    | crimea votes to be russian                         |
|                                                    | crimea votes to join russian federation            |
|                                                    | crimea vote sunday                                 |

| crimea river                                       | crimea river                                       |
|                                                    | crimea river ukraine                               |
|                                                    | crimea river meme                                  |
|                                                    | crimea river song                                  |
|                                                    | crimea river by justin timberlake                  |
|                                                    | crimea river map                                   |
|                                                    | crimea river twitter                               |
|                                                    | crimea river reddit                                |
|                                                    | crimea river joke                                  |
|                                                    | crimea river lyrics                                |

| crimean congo hemorrhagic fever                    | crimean congo hemorrhagic fever                    |
|                                                    | crimean congo hemorrhagic fever cdc                |
|                                                    | crimean congo hemorrhagic fever symptoms           |
|                                                    | crimean congo hemorrhagic fever in india           |
|                                                    | crimean congo hemorrhagic fever virus structure    |
|                                                    | crimean congo hemorrhagic fever powerpoint present |
|                                                    | crimean congo hemorrhagic fever pdf                |
|                                                    | crimean congo hemorrhagic fever prevention         |
|                                                    | crimean congo hemorrhagic fever vaccine            |
|                                                    | crimean congo hemorrhagic fever ppt                |

| crimean war ap euro                                | crimean war ap euro                                |
|                                                    | crimean war ap euro definition                     |

| crimean war timeline                               | crimean war timeline                               |
|                                                    | crimean war battles timeline                       |
|                                                    | crimean war causes timeline                        |
|                                                    | crimean war key events timeline                    |

| crimean war charge of the light brigade            | crimean war charge of the light brigade            |
|                                                    | crimean war charge of the light brigade poem       |
|                                                    | the battle of balaclava crimean war charge of the  |
|                                                    | charge of the light brigade - the animated crimean |
|                                                    | 1854  the battle of balaclava during the crimea |

| crimean war quizlet                                | crimean war quizlet                                |
|                                                    | crimean war ap euro quizlet                        |
|                                                    | the crimean war involved quizlet                   |

| crimean war battles                                | crimean war battles                                |
|                                                    | crimean war battles timeline                       |
|                                                    | crimean war battles map                            |
|                                                    | crimean war battle of balaclava                    |
|                                                    | crimean war battle 1854                            |
|                                                    | crimean war battle of alma                         |
|                                                    | crimean war battle of inkerman                     |
|                                                    | crimean war battle photos                          |
|                                                    | crimean war battle of sinope                       |
|                                                    | crimean war naval battles                          |

| crimean war documentary                            | crimean war documentary                            |

| crimean war effects on russia                      | crimean war effects on russia                      |
|                                                    | crimean war consequences russia                    |

| crimea map                                         | crimea map                                         |
|                                                    | crimea map english                                 |
|                                                    | crimea map russia                                  |
|                                                    | crimea map google                                  |
|                                                    | crimea map europe                                  |
|                                                    | crimea map 1854                                    |
|                                                    | crimea mapquest                                    |
|                                                    | crimea mapa                                        |
|                                                    | crimea map of ukraine                              |
|                                                    | crimea map image                                   |

| crimea map google                                  | crimea map google                                  |

| crimea map english                                 | crimea map english                                 |

| crimea mapa                                        | crimea mapa                                        |
|                                                    | crimea mapa fisico                                 |
|                                                    | pennsula crimea mapa                             |
|                                                    | guerra de crimea mapa                              |
|                                                    | mapa crimea ucrania                                |
|                                                    | yalta crimea mapa                                  |
|                                                    | crimea ubicacion mapa                              |
|                                                    | guerra de crimea mapa conceptual                   |

| crimea mappa                                       | crimea mappa                                       |
|                                                    | mappa crimea ucraina                               |
|                                                    | guerra di crimea mappa concettuale                 |
|                                                    | guerra di crimea mappa                             |

| balaklava crimea map                               | balaklava crimea map                               |

| crimean war map                                    | crimean war map                                    |
|                                                    | crimean war map english                            |
|                                                    | crimean war map europe                             |
|                                                    | sevastopol crimean war map                         |
|                                                    | crimean war battles map                            |
|                                                    | crimean war location map                           |
|                                                    | crimean war mind map                               |
|                                                    | florence nightingale crimean war map               |
|                                                    | ottoman empire crimean war map                     |

| crimea pass map                                    | crimea pass map                                    |

| yalta crimea map                                   | yalta crimea map                                   |
|                                                    | yalta crimea mapa                                  |

| crimean peninsula map                              | crimean peninsula map                              |
|                                                    | crimean peninsula map europe                       |
|                                                    | crimean peninsula world map                        |
|                                                    | crimean peninsula ukraine map                      |
|                                                    | crimean peninsula location on map                  |
|                                                    | peninsula crimea mapa                              |

| crimean tatar language                             | crimean tatar language                             |
|                                                    | learn crimean tatar language                       |

| crimean tatar bow                                  | crimean tatar bow                                  |

| crimean tatar names                                | crimean tatar names                                |

| crimean tatars map                                 | crimean tatars map                                 |

| crimean tatar diaspora                             | crimean tatar diaspora                             |

| crimean tatar flag                                 | crimean tatar flag                                 |

| crimean tatars religion                            | crimean tatars religion                            |

| crimean tatar surnames                             | crimean tatar surnames                             |

| crimean tatar music                                | crimean tatar music                                |

| crimea news                                        | crimea news                                        |
|                                                    | crimea newspapers                                  |
|                                                    | crimea news ua                                     |
|                                                    | crimea newsagency                                  |
|                                                    | crimea news morley                                 |
|                                                    | crimea ukraine news                                |
|                                                    | crimea street newsagency                           |
|                                                    | crimea latest news                                 |
|                                                    | all crimea news                                    |

| crimea newspapers                                  | crimea newspapers                                  |

| crimea news ua                                     | crimea news ua                                     |

| crimea newsagency                                  | crimea newsagency morley                           |
|                                                    | crimea street newsagency                           |

| crimea news morley                                 | crimea news morley                                 |

| crimea ukraine news                                | crimea ukraine news                                |

| crimea street newsagency                           | crimea street newsagency                           |

| crimea latest news                                 | crimea latest news                                 |

| all crimea news                                    | all crimea news                                    |
|                                                    | news all crimea net                                |

| crimea history                                     | crimea history                                     |
|                                                    | crimea history wiki                                |
|                                                    | crimea history map                                 |
|                                                    | tatar crimea history                               |
|                                                    | crimea pass history                                |
|                                                    | brief history crimea                               |
|                                                    | bbc history crimea                                 |
|                                                    | crimea street belfast history                      |

| crimea history timeline                            | crimean war history timeline                       |



| crimea history maps                                | crimea history map                                 |





| crimea history wikipedia                           | crimea history wiki                                |

| crimea pronunciation                               | crimea pronunciation                               |



| crimea pronunciation audio                         | crimea pronunciation audio                         |

| crimean pronunciation                              | crimean pronunciation                              |
|                                                    | pronunciation crimean war                          |

| crimean crisis                                     | crimean crisis                                     |
|                                                    | crimean crisis airsoft                             |


| crimean crisis milsim west                         | crimean crisis milsim west                         |


| crimean crisis airsoft                             | crimean crisis airsoft                             |


| crimean crisis map                                 | crimean crisis map                                 |

| crimean crisis cnn                                 | crimean crisis cnn                                 |

| crimean crisis summary                             | crimean crisis summary                             |

| crimean crisis bbc                                 | crimean crisis bbc                                 |

| crimea referendum                                  | crimea referendum                                  |
|                                                    | crimea referendum results                          |
|                                                    | crimea referendum 1991                             |
|                                                    | crimea referendum 1992                             |
|                                                    | crimea referendum question                         |
|                                                    | crimea referendum vote                             |
|                                                    | crimea referendum poll                             |
|                                                    | crimea referendum march                            |
|                                                    | crimea referendum international law                |
|                                                    | crimea referendum march 16                         |

| crimea referendum results                          | crimea referendum results                          |





| crimea referendum poll                             | crimea referendum poll                             |

| crimea referendum march                            | crimea referendum march                            |
|                                                    | crimea referendum march 16                         |
|                                                    | crimea referendum march 30                         |
|                                                    | crimea referendum march 2014                       |

| crimea referendum international law                | crimea referendum international law                |

| crimea referendum march 16                         | crimea referendum march 16                         |

| crimea river ukraine                               | crimea river ukraine                               |
|                                                    | crimea river ukraine joke                          |


| crimea river song                                  | crimea river song                                  |

| crimea river by justin timberlake                  | crimea river by justin timberlake                  |
|                                                    | cry me a river by justin timberlake lyrics         |
|                                                    | cry me a river by justin timberlake mp3 download   |
|                                                    | cry me a river by justin timberlake free mp3 downl |
|                                                    | cry me a river by justin timberlake meaning        |
|                                                    | cry me a river by justin timberlake about britney  |
|                                                    | cry me a river by justin timberlake chords         |
|                                                    | cry me a river song by justin timberlake           |
|                                                    | cry me a river justin timberlake tumblr            |
|                                                    | cry me a river justin timberlake piano sheet music |

| crimea river map                                   | crimea river map                                   |



| crimea river joke                                  | crimea river joke                                  |
|                                                    | crimea river joke putin                            |

| crimea river lyrics                                | crimea river lyrics                                |

| crimean war map english                            | crimean war map english                            |

| crimean war map europe                             | crimean war map europe                             |

| sevastopol crimean war map                         | sevastopol crimean war map                         |

| crimean war battles map                            | crimean war battles map                            |

| crimean war location map                           | crimean war location map                           |

| crimean war mind map                               | crimean war mind map                               |

| florence nightingale crimean war map               | florence nightingale crimean war map               |

| ottoman empire crimean war map                     | ottoman empire crimean war map                     |

| crimean war photos                                 | crimean war photos                                 |
|                                                    | crimean war photos florence nightingale            |
|                                                    | crimean war photo cannonballs                      |
|                                                    | crimean war photo valley of the shadow of death    |
|                                                    | crimean war photo errol morris                     |
|                                                    | crimean war photo shadow of death                  |
|                                                    | crimean war photo gallery                          |
|                                                    | crimean war battlefield photos                     |
|                                                    | crimean war veterans photos                        |

| crimean war photos florence nightingale            | crimean war photos florence nightingale            |

| crimean war photo cannonballs                      | crimean war photo cannonballs                      |
|                                                    | crimean war photograph cannonball                  |

| crimean war photo valley of the shadow of death    | crimean war photo valley of the shadow of death    |

| crimean war photo errol morris                     | crimean war photo errol morris                     |
|                                                    | crimean war photographs errol morris               |

| crimean war photo shadow of death                  | crimean war photo shadow of death                  |
|                                                    | crimean war photo valley of the shadow of death    |

| crimean war photo gallery                          | crimean war photo gallery                          |
|                                                    | crimean war images pictures                        |

| crimean war battlefield photos                     | crimean war battlefield photos                     |
|                                                    | crimean war battle photos                          |

| crimean war veterans photos                        | crimean war veterans photos                        |


| crimean war movies                                 | crimean war movies                                 |

| crimean war ap euro quizlet                        | crimean war ap euro quizlet                        |

| the crimean war involved quizlet                   | the crimean war involved quizlet                   |
|                                                    | the crimean war quizlet                            |

| crimean war poem                                   | crimean war poem                                   |
|                                                    | crimean war poem about the charge of the light bri |

| crimean war poem about the charge of the light bri | crimean war poem about the charge of the light bri |

| crimean war light brigade                          | crimean war light brigade                          |
|                                                    | crimean war charge of the light brigade poem       |

| crimean war charge of the light brigade poem       | crimean war charge of the light brigade poem       |

| crimean war weapons                                | crimean war weapons                                |
|                                                    | crimean war weapons used                           |
|                                                    | crimean war weapons tactics                        |
|                                                    | crimean war weaponry                               |
|                                                    | crimean war russian weapons                        |
|                                                    | crimean war british weapons                        |
|                                                    | crimean war uniforms and weapons                   |

| crimean war weapons used                           | crimean war weapons used                           |

| crimean war weapons tactics                        | crimean war weapons tactics                        |

| crimean war weaponry                               | crimean war weaponry                               |
|                                                    | crimean war weapons                                |
|                                                    | crimean war weapons used                           |
|                                                    | crimean war weapons tactics                        |

| crimean war russian weapons                        | crimean war russian weapons                        |

| crimean war british weapons                        | crimean war british weapons                        |
|                                                    | crimean war british rifle                          |

| crimean war uniforms and weapons                   | crimean war uniforms and weapons                   |

| crimea map russia                                  | crimea russia map                                  |


| crimea map russian                                 | crimea russia map                                  |

| crimea map europe                                  | crimea map europe                                  |
|                                                    | crimean war map europe                             |
|                                                    | crimean peninsula map europe                       |

| crimean peninsula map europe                       | crimean peninsula map europe                       |

| crimea map 1854                                    | crimea map 1854                                    |

| crimea mapquest                                    | crimea mapquest                                    |

| crimea mapa politico                               | crimea mapa politico                               |
|                                                    | mapa politico crimea                               |

| crimea mapa fisico                                 | crimea mapa fisico                                 |
|                                                    | peninsula de crimea mapa fisico                    |

| pennsula crimea mapa                             | pennsula crimea mapa                             |
|                                                    | peninsula crimea mapa                              |

| guerra de crimea mapa                              | guerra de crimea mapas                             |
|                                                    | guerra de crimea mapa conceptual                   |

| mapa crimea ucrania                                | mapa crimea ucrania                                |

| yalta crimea mapa                                  | yalta crimea mapa                                  |

| crimea ubicacion mapa                              | crimea ubicacion mapa                              |
|                                                    | crimea ubicacion geografica                        |

| guerra de crimea mapa conceptual                   | guerra de crimea mapa conceptual                   |

| crimea map of ukraine                              | crimea map ukraine                                 |


| crimean tatar deportation                          | crimean tatar deportation                          |

| crimean tatar news                                 | crimean tatar news                                 |

| crimean tatars turkey                              | crimean tatars turkey                              |



| crimea news agency                                 | crimea newsagency                                  |
|                                                    | crimea newsagency morley                           |
|                                                    | crimean news agency                                |

| crimea history wiki                                | crimea history wiki                                |

| crimea history map                                 | crimea history map                                 |

| tatar crimea history                               | tatar crimea history                               |
|                                                    | crimean tatar history                              |

| crimean tatar history                              | crimean tatar history                              |
|                                                    | tatar crimea history                               |

| crimea pass history                                | crimea pass history                                |

| brief history crimea                               | brief history crimea                               |
|                                                    | brief history crimean war                          |

| brief history crimean war                          | brief history crimean war                          |
|                                                    | short history of crimean war                       |

| bbc history crimean war                            | bbc history crimean war                            |

| crimea street belfast history                      | crimea street belfast history                      |

| cry me a river by justin timberlake lyrics         | cry me a river by justin timberlake lyrics         |
|                                                    | cry me a river justin timberlake lyrics meaning    |
|                                                    | cry me a river justin timberlake lyrics youtube    |
|                                                    | cry me a river justin timberlake lyrics chords     |
|                                                    | cry me a river justin timberlake lyrics wiki       |
|                                                    | cry me a river justin timberlake lyrics on screen  |
|                                                    | cry me a river justin timberlake song lyrics       |
|                                                    | cry me a river justin timberlake remix lyrics      |
|                                                    | cry me a river lyrics justin timberlake mp3 downlo |
|                                                    | cry me a river lyrics justin timberlake feat 50 ce |

| cry me a river by justin timberlake mp3 download   | cry me a river by justin timberlake mp3 download   |
|                                                    | cry me a river by justin timberlake free mp3 downl |
|                                                    | cry me a river justin timberlake ft 50 cent downlo |
|                                                    | justin timberlake cry me a river mp3 download bee  |
|                                                    | justin timberlake cry me a river mp3 download zipp |
|                                                    | justin timberlake cry me a river mp3 download 320k |
|                                                    | justin timberlake cry me a river remix mp3 downloa |
|                                                    | justin timberlake cry me a river instrumental mp3  |

| cry me a river by justin timberlake free mp3 downl | cry me a river by justin timberlake free mp3 downl |
|                                                    | justin timberlake cry me a river free mp3 download |
|                                                    | justin timberlake cry me a river free mp3 download |
|                                                    | justin timberlake cry me a river remix free mp3 do |

| cry me a river by justin timberlake meaning        | cry me a river by justin timberlake meaning        |
|                                                    | cry me a river lyrics justin timberlake meaning    |
|                                                    | cry me a river justin timberlake song meaning      |

| cry me a river by justin timberlake about britney  | cry me a river by justin timberlake about britney  |
|                                                    | justin timberlake cry me a river britney spears ev |
|                                                    | justin timberlake cry me a river britney spears re |
|                                                    | did justin timberlake wrote cry me a river about b |
|                                                    | justin timberlake admits cry me a river is about b |
|                                                    | cry me a river justin timberlake pour britney spea |
|                                                    | justin timberlake cry me a river for britney spear |

| cry me a river by justin timberlake chords         | cry me a river by justin timberlake chords         |
|                                                    | cry me a river justin timberlake chords piano      |
|                                                    | cry me a river justin timberlake chords no capo    |
|                                                    | cry me a river chords justin timberlake tabs       |
|                                                    | cry me a river justin timberlake tab               |
|                                                    | cry me a river justin timberlake ukulele chords    |
|                                                    | cry me a river justin timberlake acoustic chords   |
|                                                    | cry me a river justin timberlake guitar tabs       |
|                                                    | cry me a river justin timberlake bass tab          |

| cry me a river song by justin timberlake           | cry me a river song by justin timberlake           |
|                                                    | cry me a river song lyrics by justin timberlake    |
|                                                    | download cry me a river song by justin timberlake  |
|                                                    | the song cry me a river by justin timberlake was o |
|                                                    | cry me a river justin timberlake song meaning      |
|                                                    | songs like cry me a river by justin timberlake     |
|                                                    | justin timberlake cry me a river song online       |
|                                                    | justin timberlake cry me a river song text         |
|                                                    | cry me a river- justin timberlake songstraducidas  |

| cry me a river justin timberlake tumblr            | cry me a river justin timberlake tumblr            |
|                                                    | cry me a river justin timberlake audio tumblr      |

| cry me a river justin timberlake piano sheet music | cry me a river justin timberlake piano sheet music |
|                                                    | cry me a river justin timberlake piano sheet music |

| crimea river ltd                                   | crimea river ltd                                   |

| crimea river cruises                               | crimea river cruises                               |

| spieltape - crimea river ep                        | spieltape - crimea river ep                        |
|                                                    | spieltape  crimea river ep mood 114             |


| who sang crimea river                              | who sang crimea river                              |
|                                                    | who sings crimea river                             |

| who sings crimea river                             | who sings crimea river                             |
|                                                    | who sang crimea river                              |

| michael buble crimea river                         | michael buble crimea river                         |
|                                                    | michael buble cry me a river                       |
|                                                    | michael buble cry me a river lyrics                |
|                                                    | michael buble cry me a river mp3                   |
|                                                    | michael buble cry me a river chords                |
|                                                    | michael buble cry me a river mp3 download          |
|                                                    | michael buble cry me a river karaoke               |
|                                                    | michael buble cry me a river official video        |
|                                                    | michael buble cry me a river instrumental          |
|                                                    | michael buble cry me a river sheet music           |

| michael buble cry me a river                       | michael buble cry me a river                       |
|                                                    | michael buble cry me a river lyrics                |
|                                                    | michael buble cry me a river mp3                   |
|                                                    | michael buble cry me a river chords                |
|                                                    | michael buble cry me a river live                  |
|                                                    | michael buble cry me a river sheet music           |
|                                                    | michael buble cry me a river instrumental          |
|                                                    | michael buble cry me a river album                 |
|                                                    | michael buble cry me a river cover                 |
|                                                    | michael buble cry me a river lyrics youtube        |

| michael buble cry me a river lyrics                | michael buble cry me a river lyrics                |
|                                                    | michael buble cry me a river lyrics youtube        |
|                                                    | michael buble cry me a river lyrics az             |
|                                                    | michael buble cry me a river lyrics on screen      |
|                                                    | michael buble cry me a river lyrics and song       |
|                                                    | michael buble cry me a river lyrics and chords     |
|                                                    | michael buble cry me a river lyrics bersetzung   |
|                                                    | michael buble cry me a river lyrics traducida      |
|                                                    | michael buble cry me a river lyrics traduction     |
|                                                    | michael bubl sings cry me a river lyrics         |

| michael buble cry me a river mp3                   | michael buble cry me a river mp3                   |
|                                                    | michael buble cry me a river mp3 download free     |
|                                                    | michael buble cry me a river mp3 free              |
|                                                    | michael buble cry me a river instrumental mp3      |
|                                                    | 01 michael bubl - cry me a river.mp3             |
|                                                    | cry me a river lyrics michael buble mp3            |
|                                                    | cry me a river michael buble karaoke mp3           |
|                                                    | descargar cry me a river michael buble mp3         |
|                                                    | michael buble cry me a river mp3     |
|                                                    | cry me a river michael buble live mp3              |

| michael buble cry me a river chords                | michael buble cry me a river chords                |
|                                                    | michael buble cry me a river chords piano          |
|                                                    | michael buble cry me a river tab                   |
|                                                    | cry me a river chords michael buble free           |

| michael buble cry me a river mp3 download          | michael buble cry me a river mp3 download          |
|                                                    | michael buble cry me a river mp3 download free     |

| michael buble cry me a river karaoke               | michael buble cry me a river karaoke               |
|                                                    | michael buble cry me a river karaoke free          |
|                                                    | michael buble cry me a river karaoke download      |
|                                                    | michael buble cry me a river karaoke free download |
|                                                    | michael buble cry me a river karaoke with lyrics   |
|                                                    | youtube michael buble cry me a river karaoke       |
|                                                    | cry me a river michael buble karaoke mp3           |

| michael buble cry me a river official video        | michael buble cry me a river official video        |
|                                                    | youtube michael buble cry me a river official vide |
|                                                    | michael buble cry me a river video                 |
|                                                    | michael buble cry me a river videos youtube        |

| michael buble cry me a river instrumental          | michael buble cry me a river instrumental          |
|                                                    | michael buble cry me a river instrumental download |
|                                                    | cry me a river michael buble instrumental free dow |

| michael buble cry me a river sheet music           | michael buble cry me a river sheet music           |
|                                                    | michael buble cry me a river sheet music free      |
|                                                    | michael buble cry me a river violin sheet music    |
</div>
<a name = "Google Suggest Scraping Spider PHP code"></a>
<h3>Google Suggest Scraping Spider PHP code</h3>
<p style="margin-left:20px">
This source code is written in PHP and is ready to be used immediately.
You can either make an agreement with us-proxies for IP addresses or replace the relevant parts and use your own IP solution.
Before using the source code please read the license agreement.



Requirements:
 * PHP 5.2 or higher, PHP libCURL and PHP DOM 
 * user permissions to write at the local directory (caching)
 * <a href='http://www.us-proxies.com'>us proxies</a> API support (professional IP provider)
</p>

Download the source code here:
<a href="http://scrape-google-suggest.compunect.com/source/scrape-google-suggest.php.txt" target="source">scrape-google-suggest.php</a>
<a href="http://scrape-google-suggest.compunect.com/source/functions-sgs.php.txt" target="source">functions-sgs.php</a>


</pre>
<b>scrape-google-suggest.php</b><br><div style="width:900px; height:400px; overflow:scroll;margin-left:20px;border:solid 1px;"> <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;License:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open&nbsp;source&nbsp;for&nbsp;private&nbsp;and&nbsp;commercial&nbsp;use.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;source&nbsp;code&nbsp;is&nbsp;free&nbsp;to&nbsp;use&nbsp;and&nbsp;modify&nbsp;as&nbsp;long&nbsp;as&nbsp;this&nbsp;comment&nbsp;stays&nbsp;untouched&nbsp;on&nbsp;top.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;of&nbsp;original&nbsp;source&nbsp;code:&nbsp;http://scrape-google-suggest.compunect.com/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Author&nbsp;of&nbsp;original&nbsp;source&nbsp;code:&nbsp;http://www.compunect.com<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Under&nbsp;no&nbsp;circumstances&nbsp;and&nbsp;under&nbsp;no&nbsp;legal&nbsp;theory,&nbsp;whether&nbsp;in&nbsp;tort&nbsp;(including&nbsp;negligence),&nbsp;contract,&nbsp;or&nbsp;otherwise,&nbsp;shall&nbsp;the&nbsp;Licensor&nbsp;be&nbsp;liable&nbsp;to&nbsp;anyone&nbsp;for&nbsp;any&nbsp;direct,&nbsp;indirect,&nbsp;special,&nbsp;incidental,&nbsp;or&nbsp;consequential&nbsp;damages&nbsp;of&nbsp;any&nbsp;character&nbsp;arising&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;this&nbsp;License&nbsp;or&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;Original&nbsp;Work&nbsp;including,&nbsp;without&nbsp;limitation,&nbsp;damages&nbsp;for&nbsp;loss&nbsp;of&nbsp;goodwill,&nbsp;work&nbsp;stoppage,&nbsp;computer&nbsp;failure&nbsp;or&nbsp;malfunction,&nbsp;or&nbsp;any&nbsp;and&nbsp;all&nbsp;other&nbsp;commercial&nbsp;damages&nbsp;or&nbsp;losses.&nbsp;This&nbsp;limitation&nbsp;of&nbsp;liability&nbsp;shall&nbsp;not&nbsp;apply&nbsp;to&nbsp;the&nbsp;extent&nbsp;applicable&nbsp;law&nbsp;prohibits&nbsp;such&nbsp;limitation.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exceptions:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Public&nbsp;redistributing&nbsp;modifications&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;project&nbsp;is&nbsp;not&nbsp;allowed&nbsp;without&nbsp;written&nbsp;agreement.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;this&nbsp;work&nbsp;for&nbsp;private&nbsp;and&nbsp;commercial&nbsp;projects&nbsp;is&nbsp;allowed,&nbsp;redistributing&nbsp;it&nbsp;is&nbsp;not&nbsp;allowed&nbsp;without&nbsp;our&nbsp;written&nbsp;agreement.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;simple&nbsp;words:&nbsp;You&nbsp;may&nbsp;power&nbsp;your&nbsp;project&nbsp;with&nbsp;this&nbsp;code&nbsp;or&nbsp;a&nbsp;customized&nbsp;version&nbsp;of&nbsp;it,&nbsp;but&nbsp;you&nbsp;may&nbsp;not&nbsp;redistribute&nbsp;the&nbsp;code.&nbsp;Also&nbsp;any&nbsp;legal&nbsp;consequences&nbsp;are&nbsp;your&nbsp;own&nbsp;problem.<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;hire&nbsp;me&nbsp;for&nbsp;customization&nbsp;or&nbsp;a&nbsp;similar&nbsp;project&nbsp;please&nbsp;write&nbsp;an&nbsp;email&nbsp;to&nbsp;develop@compunect.com<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;scraper&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;run&nbsp;from&nbsp;a&nbsp;console&nbsp;(either&nbsp;by&nbsp;making&nbsp;it&nbsp;shell&nbsp;executable&nbsp;(#!)&nbsp;or&nbsp;launching&nbsp;it&nbsp;through&nbsp;php<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;It&nbsp;is&nbsp;not&nbsp;recommended&nbsp;to&nbsp;run&nbsp;any&nbsp;scraping&nbsp;activity&nbsp;through&nbsp;a&nbsp;web&nbsp;browser.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Instead&nbsp;of&nbsp;this&nbsp;your&nbsp;web&nbsp;script&nbsp;should&nbsp;interface&nbsp;through&nbsp;a&nbsp;database&nbsp;or&nbsp;other&nbsp;way&nbsp;asynchronously<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;script&nbsp;can&nbsp;be&nbsp;used&nbsp;in&nbsp;different&nbsp;modes&nbsp;to&nbsp;find&nbsp;keyword&nbsp;autocompletion&nbsp;and&nbsp;suggestions&nbsp;and&nbsp;is&nbsp;best&nbsp;suited&nbsp;for&nbsp;long-tail&nbsp;keywords<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Spidering:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;By&nbsp;setting&nbsp;a&nbsp;recursion&nbsp;spide&nbsp;depth&nbsp;higher&nbsp;than&nbsp;0&nbsp;you&nbsp;activate&nbsp;the&nbsp;Spider&nbsp;mode,&nbsp;that's&nbsp;the&nbsp;actual&nbsp;heart&nbsp;of&nbsp;this&nbsp;tool.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Recursion&nbsp;of&nbsp;2&nbsp;means&nbsp;that&nbsp;the&nbsp;script&nbsp;will&nbsp;get&nbsp;all&nbsp;suggests&nbsp;for&nbsp;your&nbsp;keyword&nbsp;phrase.&nbsp;Then&nbsp;it&nbsp;will&nbsp;get&nbsp;all&nbsp;suggests&nbsp;for&nbsp;all&nbsp;suggests&nbsp;results,&nbsp;then&nbsp;it&nbsp;will&nbsp;get&nbsp;suggests&nbsp;for&nbsp;all&nbsp;results&nbsp;of&nbsp;all&nbsp;results<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;So&nbsp;even&nbsp;a&nbsp;small&nbsp;recursion&nbsp;depth&nbsp;($test_spider_depth)&nbsp;can&nbsp;lead&nbsp;to&nbsp;a&nbsp;large&nbsp;amount&nbsp;of&nbsp;keywords,&nbsp;keep&nbsp;that&nbsp;in&nbsp;mind&nbsp;before&nbsp;entering&nbsp;any&nbsp;larger&nbsp;number&nbsp;there.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;recursion&nbsp;of&nbsp;10&nbsp;leads&nbsp;to&nbsp;10&nbsp;billion&nbsp;keywords&nbsp;in&nbsp;an&nbsp;optimal&nbsp;case,&nbsp;more&nbsp;than&nbsp;what&nbsp;makes&nbsp;sense&nbsp;and&nbsp;most&nbsp;of&nbsp;them&nbsp;would&nbsp;be&nbsp;off&nbsp;topic&nbsp;(and&nbsp;repetitive)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;recursion&nbsp;of&nbsp;3&nbsp;already&nbsp;leads&nbsp;to&nbsp;up&nbsp;to&nbsp;1000&nbsp;keywords&nbsp;and&nbsp;will&nbsp;take&nbsp;its&nbsp;time&nbsp;to&nbsp;complete.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Instead&nbsp;of&nbsp;using&nbsp;a&nbsp;large&nbsp;recursion&nbsp;depth&nbsp;better&nbsp;use&nbsp;different&nbsp;keywords<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;IP&nbsp;rotation&nbsp;rate:&nbsp;Mid&nbsp;term&nbsp;results&nbsp;show&nbsp;stable&nbsp;spidering&nbsp;is&nbsp;possible&nbsp;at&nbsp;a&nbsp;rotation&nbsp;rate&nbsp;of&nbsp;100&nbsp;queries&nbsp;per&nbsp;hour&nbsp;per&nbsp;IP&nbsp;address&nbsp;when&nbsp;rotating&nbsp;once&nbsp;after&nbsp;every&nbsp;5&nbsp;requests&nbsp;and&nbsp;keeping&nbsp;a&nbsp;delay&nbsp;between&nbsp;requests<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;It&nbsp;might&nbsp;be&nbsp;required&nbsp;to&nbsp;lower&nbsp;that&nbsp;rate,&nbsp;keep&nbsp;yourself&nbsp;updated&nbsp;by&nbsp;checking&nbsp;back&nbsp;here&nbsp;regularly&nbsp;to&nbsp;avoid&nbsp;getting&nbsp;blocked.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;As&nbsp;there&nbsp;is&nbsp;local&nbsp;caching&nbsp;it&nbsp;is&nbsp;no&nbsp;problem&nbsp;to&nbsp;interrupt&nbsp;the&nbsp;spider,&nbsp;it&nbsp;will&nbsp;continue&nbsp;where&nbsp;it&nbsp;was&nbsp;stopped<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Possible&nbsp;uses:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Keyword&nbsp;research:&nbsp;this&nbsp;tool&nbsp;can&nbsp;easily&nbsp;expand&nbsp;keywords&nbsp;and&nbsp;find&nbsp;new&nbsp;ones.&nbsp;And&nbsp;the&nbsp;best:&nbsp;These&nbsp;are&nbsp;all&nbsp;keywords&nbsp;which&nbsp;are&nbsp;strongly&nbsp;organic&nbsp;search&nbsp;related!<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Long-tail&nbsp;keyword&nbsp;research:&nbsp;Money&nbsp;can&nbsp;be&nbsp;made&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;phrases.&nbsp;Phrases&nbsp;are&nbsp;searched&nbsp;by&nbsp;people&nbsp;just&nbsp;as&nbsp;keywords&nbsp;but&nbsp;compared&nbsp;to&nbsp;a&nbsp;high&nbsp;quality&nbsp;keyword&nbsp;it&nbsp;is&nbsp;easy&nbsp;to&nbsp;rank&nbsp;for&nbsp;a&nbsp;phrase&nbsp;or&nbsp;pay&nbsp;for&nbsp;a&nbsp;phrase&nbsp;ad.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Event&nbsp;logging:&nbsp;The&nbsp;results&nbsp;of&nbsp;a&nbsp;country,&nbsp;city&nbsp;or&nbsp;public&nbsp;person&nbsp;will&nbsp;change&nbsp;over&nbsp;the&nbsp;time&nbsp;and&nbsp;reflect&nbsp;what&nbsp;people&nbsp;were&nbsp;interested&nbsp;and&nbsp;talking&nbsp;about.&nbsp;(Just&nbsp;think&nbsp;Obama,Putin,EU,terror&nbsp;during&nbsp;Iraq,&nbsp;Crimea,&nbsp;Georgia,&nbsp;etc)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;News:&nbsp;Your&nbsp;news&nbsp;blog&nbsp;or&nbsp;website&nbsp;can&nbsp;benefit&nbsp;from&nbsp;targeting&nbsp;exactly&nbsp;what&nbsp;people&nbsp;are&nbsp;most&nbsp;interested&nbsp;in.&nbsp;Using&nbsp;this&nbsp;spider&nbsp;you&nbsp;can&nbsp;find&nbsp;thousands&nbsp;of&nbsp;highly&nbsp;relevant&nbsp;phrases&nbsp;related&nbsp;to&nbsp;a&nbsp;particular&nbsp;news&nbsp;topic.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Research:&nbsp;From&nbsp;behaviour&nbsp;research,&nbsp;to&nbsp;your&nbsp;own&nbsp;Google&nbsp;Zeitgeist&nbsp;study&nbsp;or&nbsp;common&nbsp;typographical&nbsp;errors.&nbsp;This&nbsp;spider&nbsp;allows&nbsp;you&nbsp;to&nbsp;research&nbsp;the&nbsp;searching&nbsp;behaviour&nbsp;of&nbsp;internet&nbsp;users<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;There&nbsp;are&nbsp;countless&nbsp;ways&nbsp;this&nbsp;data&nbsp;can&nbsp;be&nbsp;exploited&nbsp;for&nbsp;your&nbsp;website,&nbsp;service&nbsp;or&nbsp;SEO.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL&nbsp;</span><span style="color: #007700">&amp;&nbsp;~</span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;require_once&nbsp;</span><span style="color: #DD0000">"functions-sgs.php"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;*************************&nbsp;Configuration&nbsp;variables&nbsp;*************************<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Your&nbsp;api&nbsp;credentials,&nbsp;you&nbsp;need&nbsp;a&nbsp;plan&nbsp;at&nbsp;us-proxies.com&nbsp;to&nbsp;use&nbsp;this&nbsp;feature<br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;You&nbsp;may&nbsp;use&nbsp;another&nbsp;service&nbsp;but&nbsp;this&nbsp;project&nbsp;was&nbsp;built&nbsp;around&nbsp;the&nbsp;us-proxies&nbsp;service,&nbsp;other&nbsp;services&nbsp;will&nbsp;likely&nbsp;require&nbsp;more&nbsp;work<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$pwd&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">US</span><span style="color: #007700">-</span><span style="color: #0000BB">PROXIES</span><span style="color: #007700">.</span><span style="color: #0000BB">COM</span><span style="color: #007700">-</span><span style="color: #0000BB">API</span><span style="color: #007700">-</span><span style="color: #0000BB">KEY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$uid&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">API</span><span style="color: #007700">-</span><span style="color: #0000BB">USER</span><span style="color: #007700">-</span><span style="color: #0000BB">ID</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$working_dir&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'./local_cache_sgs'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Hairdryer'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_spider_depth&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Recursion&nbsp;depth&nbsp;when&nbsp;operating&nbsp;in&nbsp;spider&nbsp;mode.&nbsp;Set&nbsp;to&nbsp;0&nbsp;to&nbsp;disable&nbsp;spider&nbsp;recursion&nbsp;!&nbsp;Value&nbsp;5&nbsp;already&nbsp;leads&nbsp;to&nbsp;up&nbsp;to&nbsp;100,000&nbsp;results.&nbsp;Be&nbsp;cautious.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_mutate_keyword&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Generates&nbsp;virtual&nbsp;phrases&nbsp;by&nbsp;adding&nbsp;the&nbsp;letters&nbsp;a-z&nbsp;to&nbsp;your&nbsp;primary&nbsp;keyword(s),&nbsp;this&nbsp;leads&nbsp;to&nbsp;~300&nbsp;close&nbsp;related&nbsp;phrases&nbsp;in&nbsp;recursion&nbsp;level&nbsp;0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'chrome'</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;'firefox'&nbsp;or&nbsp;'chrome'&nbsp;,&nbsp;chrome&nbsp;is&nbsp;the&nbsp;newer&nbsp;approach<br />&nbsp;&nbsp;&nbsp;&nbsp;//$test_mode&nbsp;=&nbsp;'firefox';&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;'firefox'&nbsp;or&nbsp;'chrome'&nbsp;,&nbsp;chrome&nbsp;is&nbsp;the&nbsp;newer&nbsp;approach<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_relevance_filter</span><span style="color: #007700">=</span><span style="color: #0000BB">300</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;when&nbsp;using&nbsp;test_mode=chrome&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;filter&nbsp;for&nbsp;the&nbsp;suggest&nbsp;relevance.&nbsp;Perfect&nbsp;relevance&nbsp;is&nbsp;1000&nbsp;but&nbsp;even&nbsp;550&nbsp;is&nbsp;usually&nbsp;still&nbsp;a&nbsp;good&nbsp;and&nbsp;relevant&nbsp;keyword<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;however,&nbsp;by&nbsp;changing&nbsp;the&nbsp;relevance&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;tweak&nbsp;the&nbsp;number&nbsp;of&nbsp;results.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_maxresults&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5000</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;stop&nbsp;working&nbsp;after&nbsp;reaching&nbsp;this&nbsp;count&nbsp;of&nbsp;results&nbsp;(or&nbsp;no&nbsp;results&nbsp;left).<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_country&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"global"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Currently&nbsp;not&nbsp;in&nbsp;use<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_language&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"English"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Language&nbsp;to&nbsp;use,&nbsp;non&nbsp;English&nbsp;is&nbsp;mainly&nbsp;useful&nbsp;if&nbsp;your&nbsp;keyword&nbsp;is&nbsp;in&nbsp;another&nbsp;language&nbsp;as&nbsp;well&nbsp;but&nbsp;can&nbsp;also&nbsp;make&nbsp;a&nbsp;difference&nbsp;otherwise.<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$test_force_cache</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;forces&nbsp;to&nbsp;load&nbsp;from&nbsp;cache&nbsp;even&nbsp;if&nbsp;cached&nbsp;result&nbsp;is&nbsp;too&nbsp;old<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PROXY&nbsp;</span><span style="color: #007700">=&nbsp;array();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;after&nbsp;the&nbsp;rotate&nbsp;api&nbsp;call&nbsp;this&nbsp;variable&nbsp;contains&nbsp;these&nbsp;elements:&nbsp;[address](proxy&nbsp;host),[port](proxy&nbsp;port),[external_ip](the&nbsp;external&nbsp;IP),[ready](0/1)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN&nbsp;</span><span style="color: #007700">=&nbsp;array();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;after&nbsp;the&nbsp;plan&nbsp;api&nbsp;call&nbsp;this&nbsp;variable&nbsp;contains&nbsp;the&nbsp;PLAN&nbsp;details&nbsp;about&nbsp;ip&nbsp;count,&nbsp;processes,&nbsp;protocol,&nbsp;etc<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dataset&nbsp;</span><span style="color: #007700">=&nbsp;array();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;this&nbsp;is&nbsp;our&nbsp;main&nbsp;data&nbsp;container&nbsp;it&nbsp;will&nbsp;contain&nbsp;all&nbsp;our&nbsp;results<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$primary_keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">','</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$test_keywords</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">))&nbsp;die&nbsp;(</span><span style="color: #DD0000">"Error:&nbsp;no&nbsp;keywords&nbsp;defined.\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">rmkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$working_dir</span><span style="color: #007700">))&nbsp;die(</span><span style="color: #DD0000">"Failed&nbsp;to&nbsp;create/open&nbsp;</span><span style="color: #0000BB">$working_dir</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ready&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_plan</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$ready</span><span style="color: #007700">)&nbsp;die(</span><span style="color: #DD0000">"The&nbsp;specified&nbsp;API&nbsp;credentials&nbsp;for&nbsp;user&nbsp;</span><span style="color: #0000BB">$uid</span><span style="color: #DD0000">&nbsp;are&nbsp;not&nbsp;active&nbsp;or&nbsp;invalid.&nbsp;\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'protocol'</span><span style="color: #007700">]&nbsp;!=&nbsp;</span><span style="color: #DD0000">"http"</span><span style="color: #007700">)&nbsp;die(</span><span style="color: #DD0000">"Wrong&nbsp;proxy&nbsp;protocol&nbsp;configured,&nbsp;switch&nbsp;to&nbsp;HTTP&nbsp;and&nbsp;retry.&nbsp;\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Query&nbsp;API&nbsp;to&nbsp;get&nbsp;proper&nbsp;codes&nbsp;and&nbsp;domains&nbsp;for&nbsp;country&nbsp;and&nbsp;language&nbsp;selection<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$api_suggest_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">get_api_google_suggest</span><span style="color: #007700">(</span><span style="color: #0000BB">$test_country</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$test_language</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;has&nbsp;to&nbsp;be&nbsp;global&nbsp;reachable<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">)&nbsp;die(</span><span style="color: #DD0000">"Invalid&nbsp;country/language&nbsp;specified.\n"</span><span style="color: #007700">);<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">=array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">new_curl_session</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;$ch&nbsp;is&nbsp;the&nbsp;cURL&nbsp;handler&nbsp;for&nbsp;our&nbsp;requests<br />//var_dump($country_data);die();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">=</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$empty_counter</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;counts&nbsp;empty&nbsp;responses<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//spidering&nbsp;if&nbsp;configured<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$start_time</span><span style="color: #007700">=</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">&lt;=</span><span style="color: #0000BB">$test_spider_depth</span><span style="color: #007700">;</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">generate_keywords</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">,</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">,</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">=</span><span style="color: #0000BB">get_suggests</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">,</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">,</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">,</span><span style="color: #0000BB">$test_maxresults</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$dataset[$language][$recursion_level][$keyword]=$suggests[]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;empty&nbsp;result,&nbsp;count<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$empty_counter</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"hard&nbsp;error&nbsp;requires&nbsp;stop\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$spent&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">()-</span><span style="color: #0000BB">$start_time</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$time_str</span><span style="color: #007700">=</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$spent</span><span style="color: #DD0000">&nbsp;seconds"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$spent&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">3600</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$time_str</span><span style="color: #007700">=(int)(</span><span style="color: #0000BB">$spent</span><span style="color: #007700">/</span><span style="color: #0000BB">60</span><span style="color: #007700">).</span><span style="color: #DD0000">"&nbsp;minutes"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">=</span><span style="color: #0000BB">count_results</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$num&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">$test_maxresults</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"Spider&nbsp;status:&nbsp;Recursion&nbsp;level&nbsp;</span><span style="color: #0000BB">$recursion_level</span><span style="color: #DD0000">,&nbsp;Total&nbsp;keywords:&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #DD0000">&nbsp;keywords,&nbsp;Time&nbsp;spent:&nbsp;</span><span style="color: #0000BB">$time_str</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">--;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">=</span><span style="color: #0000BB">count_results</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"\n\nFinished\nRecursion&nbsp;level&nbsp;reached:&nbsp;</span><span style="color: #0000BB">$recursion_level</span><span style="color: #DD0000">,&nbsp;Total&nbsp;keywords:&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #DD0000">&nbsp;keywords,&nbsp;Time&nbsp;spent:&nbsp;</span><span style="color: #0000BB">$time_str</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">display_results</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div><b>functions-sgs.php</b><br><div style="width:900px; height:400px; overflow:scroll;margin-left:20px;border:solid 1px;"> <code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;License:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Open&nbsp;source&nbsp;for&nbsp;private&nbsp;and&nbsp;commercial&nbsp;use.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This&nbsp;source&nbsp;code&nbsp;is&nbsp;free&nbsp;to&nbsp;use&nbsp;and&nbsp;modify&nbsp;as&nbsp;long&nbsp;as&nbsp;this&nbsp;comment&nbsp;stays&nbsp;untouched&nbsp;on&nbsp;top.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;URL&nbsp;of&nbsp;original&nbsp;source&nbsp;code:&nbsp;http://scrape-google-suggest.compunect.com/<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Author&nbsp;of&nbsp;original&nbsp;source&nbsp;code:&nbsp;http://www.compunect.com<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Under&nbsp;no&nbsp;circumstances&nbsp;and&nbsp;under&nbsp;no&nbsp;legal&nbsp;theory,&nbsp;whether&nbsp;in&nbsp;tort&nbsp;(including&nbsp;negligence),&nbsp;contract,&nbsp;or&nbsp;otherwise,&nbsp;shall&nbsp;the&nbsp;Licensor&nbsp;be&nbsp;liable&nbsp;to&nbsp;anyone&nbsp;for&nbsp;any&nbsp;direct,&nbsp;indirect,&nbsp;special,&nbsp;incidental,&nbsp;or&nbsp;consequential&nbsp;damages&nbsp;of&nbsp;any&nbsp;character&nbsp;arising&nbsp;as&nbsp;a&nbsp;result&nbsp;of&nbsp;this&nbsp;License&nbsp;or&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;Original&nbsp;Work&nbsp;including,&nbsp;without&nbsp;limitation,&nbsp;damages&nbsp;for&nbsp;loss&nbsp;of&nbsp;goodwill,&nbsp;work&nbsp;stoppage,&nbsp;computer&nbsp;failure&nbsp;or&nbsp;malfunction,&nbsp;or&nbsp;any&nbsp;and&nbsp;all&nbsp;other&nbsp;commercial&nbsp;damages&nbsp;or&nbsp;losses.&nbsp;This&nbsp;limitation&nbsp;of&nbsp;liability&nbsp;shall&nbsp;not&nbsp;apply&nbsp;to&nbsp;the&nbsp;extent&nbsp;applicable&nbsp;law&nbsp;prohibits&nbsp;such&nbsp;limitation.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exceptions:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Public&nbsp;redistributing&nbsp;modifications&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;project&nbsp;is&nbsp;not&nbsp;allowed&nbsp;without&nbsp;written&nbsp;agreement.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;this&nbsp;work&nbsp;for&nbsp;private&nbsp;and&nbsp;commercial&nbsp;projects&nbsp;is&nbsp;allowed,&nbsp;redistributing&nbsp;it&nbsp;is&nbsp;not&nbsp;allowed&nbsp;without&nbsp;our&nbsp;written&nbsp;agreement.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In&nbsp;simple&nbsp;words:&nbsp;You&nbsp;may&nbsp;power&nbsp;your&nbsp;project&nbsp;with&nbsp;this&nbsp;code&nbsp;or&nbsp;a&nbsp;customized&nbsp;version&nbsp;of&nbsp;it,&nbsp;but&nbsp;you&nbsp;may&nbsp;not&nbsp;redistribute&nbsp;the&nbsp;code.&nbsp;Also&nbsp;any&nbsp;legal&nbsp;consequences&nbsp;are&nbsp;your&nbsp;own&nbsp;problem.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;just&nbsp;comment&nbsp;out&nbsp;the&nbsp;echo&nbsp;or&nbsp;extend&nbsp;the&nbsp;function&nbsp;to&nbsp;your&nbsp;liking<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$text</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Returns&nbsp;up&nbsp;to&nbsp;date&nbsp;data&nbsp;to&nbsp;use&nbsp;for&nbsp;this&nbsp;scraping.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;includes:&nbsp;user&nbsp;agent&nbsp;(in&nbsp;future,&nbsp;rotating&nbsp;user&nbsp;agents),&nbsp;google&nbsp;language&nbsp;and&nbsp;country&nbsp;codes,&nbsp;domains,&nbsp;etc.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;function&nbsp;will&nbsp;only&nbsp;work&nbsp;with&nbsp;a&nbsp;valid&nbsp;plan&nbsp;at&nbsp;us-proxies.com<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;You&nbsp;can&nbsp;remove&nbsp;the&nbsp;API&nbsp;parts&nbsp;and&nbsp;hardcore&nbsp;the&nbsp;values&nbsp;if&nbsp;you&nbsp;do&nbsp;not&nbsp;wish&nbsp;to&nbsp;get&nbsp;a&nbsp;plan&nbsp;there&nbsp;and&nbsp;use&nbsp;a&nbsp;different&nbsp;service&nbsp;for&nbsp;IPs<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">get_api_google_suggest</span><span style="color: #007700">(</span><span style="color: #0000BB">$country</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$pwd</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$uid</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$portal</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fsockopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"us-proxies.com"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">80</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$fp</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;google_cc&nbsp;API&nbsp;\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;connection&nbsp;not&nbsp;possible<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$plan_size</span><span style="color: #007700">=</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'total_ips'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$country</span><span style="color: #007700">=</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$country</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">=</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"GET&nbsp;/g_api.php?api=1&amp;uid=</span><span style="color: #0000BB">$uid</span><span style="color: #DD0000">&amp;pwd=</span><span style="color: #0000BB">$pwd</span><span style="color: #DD0000">&amp;cmd=google_suggest&amp;country=</span><span style="color: #0000BB">$country</span><span style="color: #DD0000">&amp;language=</span><span style="color: #0000BB">$language</span><span style="color: #DD0000">&amp;plan_size=</span><span style="color: #0000BB">$plan_size</span><span style="color: #DD0000">&nbsp;HTTP/1.0\r\nHost:&nbsp;us-proxies.com\r\nAccept:&nbsp;text/html,&nbsp;text/plain,&nbsp;text/*,&nbsp;*/*;q=0.01\r\nAccept-Encoding:&nbsp;plain\r\nAccept-Language:&nbsp;en\r\n\r\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">stream_set_timeout</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(!</span><span style="color: #0000BB">feof</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$n</span><span style="color: #007700">++&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8192</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stream_get_meta_data</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'timed_out'</span><span style="color: #007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'API:&nbsp;Connection&nbsp;timed&nbsp;out!&nbsp;\n'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;api&nbsp;timeout<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">extractBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">[</span><span style="color: #DD0000">'error'</span><span style="color: #007700">]))&nbsp;echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">[</span><span style="color: #DD0000">'error'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">[</span><span style="color: #DD0000">'info'</span><span style="color: #007700">]))&nbsp;echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">[</span><span style="color: #DD0000">'info'</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;return&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;invalid&nbsp;api&nbsp;response<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">rmkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mode&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0755</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">))&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;@</span><span style="color: #0000BB">mkdir</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$mode</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;Delay&nbsp;(sleep)&nbsp;based&nbsp;on&nbsp;the&nbsp;license&nbsp;size&nbsp;to&nbsp;allow&nbsp;optimal&nbsp;scraping<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Warning!<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Do&nbsp;NOT&nbsp;change&nbsp;the&nbsp;delay&nbsp;to&nbsp;be&nbsp;shorter&nbsp;than&nbsp;the&nbsp;specified&nbsp;delay.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;function&nbsp;will&nbsp;create&nbsp;a&nbsp;delay&nbsp;based&nbsp;on&nbsp;your&nbsp;total&nbsp;IP&nbsp;addresses.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">delay_time</span><span style="color: #007700">(</span><span style="color: #0000BB">$reason</span><span style="color: #007700">=</span><span style="color: #DD0000">'ip'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$total_threads</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">;<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$reason&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'ip'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$total_threads</span><span style="color: #007700">*</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'delay_rotate_us'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"wait..&nbsp;\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$reason&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'request'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'delay_query_us'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"wait..&nbsp;\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">usleep</span><span style="color: #007700">(</span><span style="color: #0000BB">$d</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;By&nbsp;default&nbsp;(no&nbsp;force)&nbsp;the&nbsp;function&nbsp;will&nbsp;load&nbsp;cached&nbsp;data&nbsp;within&nbsp;24&nbsp;hours&nbsp;otherwise&nbsp;reject&nbsp;the&nbsp;cache.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;time&nbsp;can&nbsp;be&nbsp;increased&nbsp;to&nbsp;reduce&nbsp;IP&nbsp;usage<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">load_cache</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$force_cache</span><span style="color: #007700">,</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$working_dir</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$force_cache&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;return&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$lc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"_"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$lc&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"_"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$test_mode&nbsp;</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$working_dir</span><span style="color: #DD0000">/</span><span style="color: #0000BB">$hash</span><span style="color: #DD0000">.cache"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ut&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dif&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$ut</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$hour&nbsp;</span><span style="color: #007700">=&nbsp;(int)(</span><span style="color: #0000BB">$dif&nbsp;</span><span style="color: #007700">/&nbsp;(</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$force_cache&nbsp;</span><span style="color: #007700">||&nbsp;(</span><span style="color: #0000BB">$dif&nbsp;</span><span style="color: #007700">&lt;&nbsp;(</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">24</span><span style="color: #007700">)))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$serdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$serp_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$serdata</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"Cache:&nbsp;loaded&nbsp;file&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #DD0000">&nbsp;for&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #DD0000">&nbsp;.&nbsp;File&nbsp;age:&nbsp;</span><span style="color: #0000BB">$hour</span><span style="color: #DD0000">&nbsp;hours\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$serp_data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">store_cache</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$working_dir</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$lc&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$hash&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">md5</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"_"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$lc&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"_"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$working_dir</span><span style="color: #DD0000">/</span><span style="color: #0000BB">$hash</span><span style="color: #DD0000">.cache"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ut&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">filemtime</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dif&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$ut</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$dif&nbsp;</span><span style="color: #007700">&lt;&nbsp;(</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">24</span><span style="color: #007700">))&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Warning:&nbsp;cache&nbsp;storage&nbsp;initated&nbsp;for&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #DD0000">&nbsp;which&nbsp;was&nbsp;already&nbsp;cached&nbsp;within&nbsp;the&nbsp;past&nbsp;24&nbsp;hours!\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$serdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">serialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$serdata</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">LOCK_EX</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"Cache:&nbsp;stored&nbsp;file&nbsp;</span><span style="color: #0000BB">$file</span><span style="color: #DD0000">&nbsp;for&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;check_ip_usage()&nbsp;must&nbsp;be&nbsp;called&nbsp;before&nbsp;first&nbsp;use&nbsp;of&nbsp;mark_ip_usage()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">check_ip_usage</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$working_dir</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;usage&nbsp;data&nbsp;object&nbsp;as&nbsp;array<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!isset(</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">]))&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;proxy&nbsp;not&nbsp;ready/started<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">])&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;proxy&nbsp;not&nbsp;ready/started<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!isset(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">file_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$working_dir&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"/ipdata.obj"</span><span style="color: #007700">))&nbsp;</span><span style="color: #FF8000">//&nbsp;usage&nbsp;data&nbsp;object&nbsp;as&nbsp;file<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Warning!\n"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"The&nbsp;ipdata.obj&nbsp;file&nbsp;was&nbsp;not&nbsp;found,&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;first&nbsp;usage&nbsp;of&nbsp;the&nbsp;rank&nbsp;checker&nbsp;everything&nbsp;is&nbsp;alright.\n"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"Otherwise&nbsp;removal&nbsp;or&nbsp;failure&nbsp;to&nbsp;access&nbsp;the&nbsp;ip&nbsp;usage&nbsp;data&nbsp;will&nbsp;lead&nbsp;to&nbsp;damage&nbsp;of&nbsp;the&nbsp;IP&nbsp;quality.\n\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_usage_data&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ser_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$working_dir&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"/ipdata.obj"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_usage_data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$ser_data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"IP&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">external_ip</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;is&nbsp;ready&nbsp;for&nbsp;use&nbsp;\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;IP&nbsp;was&nbsp;not&nbsp;used&nbsp;yet<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'requests'</span><span style="color: #007700">][</span><span style="color: #0000BB">20</span><span style="color: #007700">][</span><span style="color: #DD0000">'ut_google'</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"IP&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">external_ip</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;is&nbsp;ready&nbsp;for&nbsp;use&nbsp;\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;IP&nbsp;has&nbsp;not&nbsp;been&nbsp;used&nbsp;20+&nbsp;times&nbsp;yet,&nbsp;return&nbsp;true<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ut_last&nbsp;</span><span style="color: #007700">=&nbsp;(int)</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'ut_last-usage'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;last&nbsp;time&nbsp;this&nbsp;IP&nbsp;was&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$req_total&nbsp;</span><span style="color: #007700">=&nbsp;(int)</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'request-total'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;total&nbsp;number&nbsp;of&nbsp;requests&nbsp;made&nbsp;by&nbsp;this&nbsp;IP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$req_20&nbsp;</span><span style="color: #007700">=&nbsp;(int)</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'requests'</span><span style="color: #007700">][</span><span style="color: #0000BB">20</span><span style="color: #007700">][</span><span style="color: #DD0000">'ut_google'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;20th&nbsp;request&nbsp;(if&nbsp;IP&nbsp;was&nbsp;used&nbsp;20+&nbsp;times)&nbsp;unixtime&nbsp;stamp<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$req_20</span><span style="color: #007700">)&nbsp;&gt;&nbsp;(</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"IP&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">external_ip</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;is&nbsp;ready&nbsp;for&nbsp;use&nbsp;\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;more&nbsp;than&nbsp;an&nbsp;hour&nbsp;passed&nbsp;since&nbsp;20th&nbsp;usage&nbsp;of&nbsp;this&nbsp;IP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cd_sec&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">60&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">60</span><span style="color: #007700">)&nbsp;-&nbsp;(</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">-&nbsp;</span><span style="color: #0000BB">$req_20</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"IP&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">external_ip</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;needs&nbsp;</span><span style="color: #0000BB">$cd_sec</span><span style="color: #DD0000">&nbsp;seconds&nbsp;cooldown,&nbsp;not&nbsp;ready&nbsp;for&nbsp;use&nbsp;yet&nbsp;\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;IP&nbsp;is&nbsp;overused,&nbsp;it&nbsp;can&nbsp;not&nbsp;be&nbsp;used&nbsp;for&nbsp;scraping&nbsp;without&nbsp;being&nbsp;detected&nbsp;by&nbsp;the&nbsp;search&nbsp;engine&nbsp;yet<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Updates&nbsp;and&nbsp;stores&nbsp;the&nbsp;ip&nbsp;usage&nbsp;data&nbsp;object<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Marks&nbsp;an&nbsp;IP&nbsp;as&nbsp;used&nbsp;and&nbsp;re-sorts&nbsp;the&nbsp;access&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">mark_ip_usage</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$working_dir</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;usage&nbsp;data&nbsp;object&nbsp;as&nbsp;array<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!isset(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">))&nbsp;die(</span><span style="color: #DD0000">"ERROR:&nbsp;Incorrect&nbsp;usage.&nbsp;check_ip_usage()&nbsp;needs&nbsp;to&nbsp;be&nbsp;called&nbsp;once&nbsp;before&nbsp;mark_ip_usage()!\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$now&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">time</span><span style="color: #007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'ut_last-usage'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$now</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;last&nbsp;time&nbsp;this&nbsp;IP&nbsp;was&nbsp;used<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!isset(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'request-total'</span><span style="color: #007700">]))&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'request-total'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'request-total'</span><span style="color: #007700">]++;&nbsp;</span><span style="color: #FF8000">//&nbsp;total&nbsp;number&nbsp;of&nbsp;requests&nbsp;made&nbsp;by&nbsp;this&nbsp;IP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;shift&nbsp;fifo&nbsp;queue<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">for&nbsp;(</span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">19</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #0000BB">$req</span><span style="color: #007700">--)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'requests'</span><span style="color: #007700">][</span><span style="color: #0000BB">$req</span><span style="color: #007700">][</span><span style="color: #DD0000">'ut_google'</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'requests'</span><span style="color: #007700">][</span><span style="color: #0000BB">$req&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #DD0000">'ut_google'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'requests'</span><span style="color: #007700">][</span><span style="color: #0000BB">$req</span><span style="color: #007700">][</span><span style="color: #DD0000">'ut_google'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">[</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]][</span><span style="color: #DD0000">'requests'</span><span style="color: #007700">][</span><span style="color: #0000BB">1</span><span style="color: #007700">][</span><span style="color: #DD0000">'ut_google'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$now</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$serdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">serialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$ip_usage_data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #0000BB">$working_dir&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"/ipdata.obj"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$serdata</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">LOCK_EX</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">new_curl_session</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$test_mode&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">'chrome'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$default_agent&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'default_agent_chrome'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$default_agent&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'default_agent'</span><span style="color: #007700">];<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((!isset(</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">]))&nbsp;||&nbsp;(!</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">]))&nbsp;return&nbsp;</span><span style="color: #0000BB">$ch</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;proxy&nbsp;not&nbsp;ready<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(isset(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;(</span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_init</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_HEADER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_FOLLOWLOCATION</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_RETURNTRANSFER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$curl_proxy&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">address</span><span style="color: #007700">]</span><span style="color: #DD0000">:</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">port</span><span style="color: #007700">]</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_PROXY</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$curl_proxy</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_CONNECTTIMEOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_TIMEOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_USERAGENT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$default_agent</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;firefox<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$ch</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">getip</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">])&nbsp;return&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;proxy&nbsp;not&nbsp;ready<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$curl_handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_init</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_URL</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'http://ipcheck.ipnetic.com/remote_ip.php'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;returns&nbsp;the&nbsp;real&nbsp;IP<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_CONNECTTIMEOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_TIMEOUT</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_RETURNTRANSFER</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$curl_proxy&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">address</span><span style="color: #007700">]</span><span style="color: #DD0000">:</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">port</span><span style="color: #007700">]</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_PROXY</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$curl_proxy</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$tested_ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">"^([1-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\.([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])){3}^"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$tested_ip</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$tested_ip</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_getinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$curl_handle</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;possible&nbsp;error&nbsp;would&nbsp;be&nbsp;a&nbsp;wrong&nbsp;authentication&nbsp;IP&nbsp;or&nbsp;a&nbsp;firewall<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;return&nbsp;1&nbsp;if&nbsp;account&nbsp;is&nbsp;ready,&nbsp;otherwise&nbsp;0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">get_plan</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$uid</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$pwd</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ip_service</span><span style="color: #007700">(</span><span style="color: #DD0000">"plan"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;will&nbsp;fill&nbsp;$PLAN<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"API&nbsp;error:&nbsp;Proxy&nbsp;API&nbsp;connection&nbsp;failed&nbsp;(Error&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #DD0000">).&nbsp;trying&nbsp;again&nbsp;later..\n\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #0000BB">$ready&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"active"&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$ready&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"not&nbsp;active"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"API&nbsp;success:&nbsp;License&nbsp;is&nbsp;</span><span style="color: #0000BB">$ready</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;is&nbsp;the&nbsp;API&nbsp;function&nbsp;to&nbsp;retrieve&nbsp;US&nbsp;IP&nbsp;addresses<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;This&nbsp;function&nbsp;handles&nbsp;the&nbsp;API&nbsp;calls&nbsp;"plan"&nbsp;and&nbsp;"rotate"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Rotate:&nbsp;On&nbsp;success&nbsp;this&nbsp;function&nbsp;will&nbsp;define&nbsp;the&nbsp;global&nbsp;$PROXY&nbsp;variable,&nbsp;adding&nbsp;the&nbsp;elements&nbsp;ready,address,port,external_ip&nbsp;and&nbsp;return&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;On&nbsp;failure&nbsp;the&nbsp;return&nbsp;is&nbsp;0&nbsp;or&nbsp;smaller&nbsp;and&nbsp;the&nbsp;PROXY&nbsp;variable&nbsp;ready&nbsp;element&nbsp;is&nbsp;set&nbsp;to&nbsp;"0"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;It&nbsp;is&nbsp;good&nbsp;practice&nbsp;to&nbsp;use&nbsp;the&nbsp;API&nbsp;response&nbsp;in&nbsp;$PROXY&nbsp;instead&nbsp;of&nbsp;hardcoding&nbsp;connection&nbsp;parameters<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Plan:&nbsp;On&nbsp;success&nbsp;this&nbsp;function&nbsp;will&nbsp;define&nbsp;the&nbsp;global&nbsp;$PLAN&nbsp;variable,&nbsp;adding&nbsp;the&nbsp;elements&nbsp;active,&nbsp;max_ips,&nbsp;total_ips,&nbsp;protocol,&nbsp;processes&nbsp;and&nbsp;return&nbsp;1<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;It&nbsp;is&nbsp;good&nbsp;practice&nbsp;to&nbsp;make&nbsp;one&nbsp;call&nbsp;to&nbsp;"plan"&nbsp;upon&nbsp;starting&nbsp;your&nbsp;script&nbsp;to&nbsp;find&nbsp;out&nbsp;about&nbsp;the&nbsp;status&nbsp;and&nbsp;size&nbsp;of&nbsp;the&nbsp;plan<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">extractBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$response_str</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">preg_split</span><span style="color: #007700">(</span><span style="color: #DD0000">'|(?:\r?\n){2}|m'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$response_str</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]))&nbsp;return&nbsp;</span><span style="color: #0000BB">$parts</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;else&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">ip_service</span><span style="color: #007700">(</span><span style="color: #0000BB">$cmd</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$pwd</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$uid</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$fp&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fsockopen</span><span style="color: #007700">(</span><span style="color: #DD0000">"us-proxies.com"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">80</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$fp</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;API&nbsp;\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;connection&nbsp;not&nbsp;possible<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$cmd&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"plan"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"GET&nbsp;/api.php?api=1&amp;uid=</span><span style="color: #0000BB">$uid</span><span style="color: #DD0000">&amp;pwd=</span><span style="color: #0000BB">$pwd</span><span style="color: #DD0000">&amp;cmd=plan&amp;extended=1&nbsp;HTTP/1.0\r\nHost:&nbsp;us-proxies.com\r\nAccept:&nbsp;text/html,&nbsp;text/plain,&nbsp;text/*,&nbsp;*/*;q=0.01\r\nAccept-Encoding:&nbsp;plain\r\nAccept-Language:&nbsp;en\r\n\r\n"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">stream_set_timeout</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(!</span><span style="color: #0000BB">feof</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$n</span><span style="color: #007700">++&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8192</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stream_get_meta_data</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'timed_out'</span><span style="color: #007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'API:&nbsp;Connection&nbsp;timed&nbsp;out!&nbsp;\n'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;api&nbsp;timeout<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">)&nbsp;return&nbsp;-</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;invalid&nbsp;api&nbsp;response&nbsp;(check&nbsp;the&nbsp;API&nbsp;website&nbsp;for&nbsp;possible&nbsp;problems)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">extractBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">":"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$ar</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;return&nbsp;-</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;invalid&nbsp;api&nbsp;response<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">switch&nbsp;(</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"ERROR"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"API&nbsp;Error:&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #DD0000">&nbsp;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;received<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"PLAN"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'max_ips'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;number&nbsp;of&nbsp;IPs&nbsp;licensed<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'total_ips'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;number&nbsp;of&nbsp;IPs&nbsp;assigned<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'protocol'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;current&nbsp;proxy&nbsp;protocol&nbsp;(http,&nbsp;socks,&nbsp;..)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'processes'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;number&nbsp;of&nbsp;available&nbsp;proxy&nbsp;processes<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'total_ips'</span><span style="color: #007700">]&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;else&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"API&nbsp;Error:&nbsp;Received&nbsp;answer&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span><span style="color: #DD0000">,&nbsp;expected&nbsp;\"PLAN\""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PLAN</span><span style="color: #007700">[</span><span style="color: #DD0000">'active'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">101</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;unknown&nbsp;API&nbsp;response<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;cmd==plan<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$cmd&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"rotate"</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"GET&nbsp;/api.php?api=1&amp;uid=</span><span style="color: #0000BB">$uid</span><span style="color: #DD0000">&amp;pwd=</span><span style="color: #0000BB">$pwd</span><span style="color: #DD0000">&amp;cmd=rotate&amp;randomize=0&amp;offset=0&nbsp;HTTP/1.0\r\nHost:&nbsp;us-proxies.com\r\nAccept:&nbsp;text/html,&nbsp;text/plain,&nbsp;text/*,&nbsp;*/*;q=0.01\r\nAccept-Encoding:&nbsp;plain\r\nAccept-Language:&nbsp;en\r\n\r\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">stream_set_timeout</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$n&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(!</span><span style="color: #0000BB">feof</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$n</span><span style="color: #007700">++&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">.=&nbsp;</span><span style="color: #0000BB">fread</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">8192</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">stream_get_meta_data</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">'timed_out'</span><span style="color: #007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'API:&nbsp;Connection&nbsp;timed&nbsp;out!&nbsp;\n'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">2</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;api&nbsp;timeout<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">1000</span><span style="color: #007700">)&nbsp;return&nbsp;-</span><span style="color: #0000BB">3</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;invalid&nbsp;api&nbsp;response&nbsp;(check&nbsp;the&nbsp;API&nbsp;website&nbsp;for&nbsp;possible&nbsp;problems)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">extractBody</span><span style="color: #007700">(</span><span style="color: #0000BB">$res</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">explode</span><span style="color: #007700">(</span><span style="color: #DD0000">":"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$ar</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">4</span><span style="color: #007700">)&nbsp;return&nbsp;-</span><span style="color: #0000BB">100</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;invalid&nbsp;api&nbsp;response<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">switch&nbsp;(</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">])<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"ERROR"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"API&nbsp;Error:&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #DD0000">&nbsp;\n"</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;received<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;</span><span style="color: #DD0000">"ROTATE"</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'address'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'port'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'external_ip'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">3</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #DD0000">'ready'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">usleep</span><span style="color: #007700">(</span><span style="color: #0000BB">230000</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;additional&nbsp;time&nbsp;to&nbsp;avoid&nbsp;connecting&nbsp;during&nbsp;proxy&nbsp;bootup&nbsp;phase,&nbsp;removing&nbsp;this&nbsp;can&nbsp;cause&nbsp;random&nbsp;connection&nbsp;failures&nbsp;but&nbsp;will&nbsp;increase&nbsp;overall&nbsp;performance&nbsp;for&nbsp;large&nbsp;IP&nbsp;licenses<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"API&nbsp;Error:&nbsp;Received&nbsp;answer&nbsp;</span><span style="color: #0000BB">$ar</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]</span><span style="color: #DD0000">,&nbsp;expected&nbsp;\"ROTATE\""</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">101</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;unknown&nbsp;API&nbsp;response<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;</span><span style="color: #FF8000">//&nbsp;cmd==rotate<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;obtain&nbsp;a&nbsp;fresh&nbsp;IP&nbsp;through&nbsp;us-proxies.com&nbsp;API<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">rotate_proxy</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$ch</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$max_errors&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$success&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">$max_errors</span><span style="color: #007700">--)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ip_service</span><span style="color: #007700">(</span><span style="color: #DD0000">"rotate"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;will&nbsp;fill&nbsp;$PROXY<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$res&nbsp;</span><span style="color: #007700">&lt;=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"API&nbsp;error:&nbsp;Proxy&nbsp;API&nbsp;connection&nbsp;failed&nbsp;(Error&nbsp;</span><span style="color: #0000BB">$res</span><span style="color: #DD0000">).&nbsp;trying&nbsp;again&nbsp;soon..\n\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">21</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;retry&nbsp;after&nbsp;a&nbsp;while,&nbsp;maybe&nbsp;a&nbsp;routing&nbsp;failure<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"API&nbsp;success:&nbsp;Received&nbsp;proxy&nbsp;IP&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">external_ip</span><span style="color: #007700">]</span><span style="color: #DD0000">&nbsp;on&nbsp;port&nbsp;</span><span style="color: #0000BB">$PROXY</span><span style="color: #007700">[</span><span style="color: #0000BB">port</span><span style="color: #007700">]</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$success&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$success</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ch&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">new_curl_session</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"API&nbsp;rotation&nbsp;failed.&nbsp;Check&nbsp;license,&nbsp;firewall&nbsp;and&nbsp;API&nbsp;credentials.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;gets&nbsp;one&nbsp;keyword<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">scrape_suggest</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$ch</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$test_relevance_filter</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">=array(</span><span style="color: #DD0000">'success'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'data'</span><span style="color: #007700">=&gt;array());<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$google_ip&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'domain'</span><span style="color: #007700">];&nbsp;</span><span style="color: #FF8000">//&nbsp;currently&nbsp;ignored,&nbsp;needs&nbsp;to&nbsp;be&nbsp;analyzed<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$hl&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">==</span><span style="color: #DD0000">'firefox'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;firefox&nbsp;mode&nbsp;allows&nbsp;only&nbsp;language&nbsp;specific&nbsp;lookups&nbsp;and&nbsp;is&nbsp;more&nbsp;outdated<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$domain</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'domain'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$client</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'client'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keyword_enc</span><span style="color: #007700">=</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://</span><span style="color: #0000BB">$domain</span><span style="color: #DD0000">/complete/search?q=</span><span style="color: #0000BB">$keyword_enc</span><span style="color: #DD0000">&amp;client=</span><span style="color: #0000BB">$client</span><span style="color: #DD0000">&amp;hl=</span><span style="color: #0000BB">$hl</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;chrome&nbsp;mode&nbsp;allows&nbsp;country&nbsp;and&nbsp;language&nbsp;specific&nbsp;lookups,&nbsp;it&nbsp;returns&nbsp;additional&nbsp;meta&nbsp;data<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$domain&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'domain_chrome'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$client&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'client_chrome'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keyword_enc</span><span style="color: #007700">=</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://</span><span style="color: #0000BB">$domain</span><span style="color: #DD0000">/complete/search?q=</span><span style="color: #0000BB">$keyword_enc</span><span style="color: #DD0000">&amp;client=</span><span style="color: #0000BB">$client</span><span style="color: #DD0000">&amp;hl=</span><span style="color: #0000BB">$hl</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">curl_setopt</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">CURLOPT_URL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$url</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$htmdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_exec</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">$htmdata</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$error&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_error</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$info&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">curl_getinfo</span><span style="color: #007700">(</span><span style="color: #0000BB">$ch</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\tError&nbsp;scraping:&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #DD0000">&nbsp;[&nbsp;</span><span style="color: #0000BB">$error</span><span style="color: #DD0000">&nbsp;]\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">strlen</span><span style="color: #007700">(</span><span style="color: #0000BB">$htmdata</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\tError&nbsp;scraping:&nbsp;empty&nbsp;result\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((</span><span style="color: #0000BB">$data_ar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">json_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$htmdata</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">))&nbsp;!==&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">==</span><span style="color: #DD0000">'firefox'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data_ar</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;in&nbsp;chrome&nbsp;mode&nbsp;we&nbsp;have&nbsp;a&nbsp;lot&nbsp;more&nbsp;data<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data_ar</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$titles&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data_ar</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$meta&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$data_ar</span><span style="color: #007700">[</span><span style="color: #0000BB">4</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$meta</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$meta</span><span style="color: #007700">[</span><span style="color: #DD0000">'google:suggesttype'</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$meta</span><span style="color: #007700">[</span><span style="color: #DD0000">'google:suggesttype'</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$idx&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$meta_type</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">strtolower</span><span style="color: #007700">(</span><span style="color: #0000BB">$meta_type</span><span style="color: #007700">)&nbsp;!=&nbsp;</span><span style="color: #DD0000">'query'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"removed&nbsp;non&nbsp;query&nbsp;index&nbsp;</span><span style="color: #0000BB">$idx</span><span style="color: #DD0000">:&nbsp;</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">[</span><span style="color: #0000BB">$idx</span><span style="color: #007700">]</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">[</span><span style="color: #0000BB">$idx</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$meta</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;isset(</span><span style="color: #0000BB">$meta</span><span style="color: #007700">[</span><span style="color: #DD0000">'google:suggestrelevance'</span><span style="color: #007700">]))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$meta</span><span style="color: #007700">[</span><span style="color: #DD0000">'google:suggestrelevance'</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$idx&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$meta_relevance</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((int)</span><span style="color: #0000BB">$meta_relevance&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$test_relevance_filter&nbsp;</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"filtered&nbsp;out&nbsp;unrelevant&nbsp;index&nbsp;</span><span style="color: #0000BB">$idx</span><span style="color: #DD0000">:&nbsp;</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">[</span><span style="color: #0000BB">$idx</span><span style="color: #007700">]</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">[</span><span style="color: #0000BB">$idx</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$data</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;wrapper&nbsp;to&nbsp;get&nbsp;a&nbsp;full&nbsp;set&nbsp;of&nbsp;keywords<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">get_suggests</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">,</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">,</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">,</span><span style="color: #0000BB">$max_results</span><span style="color: #007700">=</span><span style="color: #0000BB">0xffffff</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$test_force_cache</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rotate_now</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;set&nbsp;to&nbsp;1&nbsp;to&nbsp;force&nbsp;a&nbsp;rotation&nbsp;after&nbsp;launch,&nbsp;even&nbsp;if&nbsp;IP&nbsp;is&nbsp;not&nbsp;marked&nbsp;as&nbsp;overused<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$empty_counter</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;count&nbsp;empty&nbsp;replies<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$language</span><span style="color: #007700">=</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">=array(</span><span style="color: #DD0000">'success'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rcounter</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">verbose</span><span style="color: #007700">(</span><span style="color: #DD0000">"Scraping&nbsp;keyword&nbsp;'</span><span style="color: #0000BB">$keyword</span><span style="color: #DD0000">'&nbsp;at&nbsp;recursion&nbsp;level&nbsp;</span><span style="color: #0000BB">$recursion_level</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cdata&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">load_cache</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$test_force_cache</span><span style="color: #007700">,</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;load&nbsp;results&nbsp;from&nbsp;local&nbsp;cache&nbsp;if&nbsp;available&nbsp;for&nbsp;today<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;check&nbsp;IP&nbsp;usage<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_ready&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">check_ip_usage</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;test&nbsp;if&nbsp;ip&nbsp;has&nbsp;not&nbsp;been&nbsp;used&nbsp;within&nbsp;the&nbsp;critical&nbsp;time<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;obtain&nbsp;new&nbsp;IP&nbsp;if&nbsp;necessary<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">)&nbsp;</span><span style="color: #FF8000">//&nbsp;omit&nbsp;all&nbsp;of&nbsp;this&nbsp;if&nbsp;we&nbsp;have&nbsp;a&nbsp;cache<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;((!</span><span style="color: #0000BB">$ip_ready&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$rotate_now</span><span style="color: #007700">))<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(!</span><span style="color: #0000BB">$ip_ready&nbsp;</span><span style="color: #007700">||&nbsp;</span><span style="color: #0000BB">$rotate_now</span><span style="color: #007700">)&nbsp;</span><span style="color: #FF8000">//&nbsp;test&nbsp;if&nbsp;the&nbsp;IP&nbsp;is&nbsp;ready&nbsp;or&nbsp;overused<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ok&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">rotate_proxy</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;start/rotate&nbsp;to&nbsp;the&nbsp;IP&nbsp;that&nbsp;has&nbsp;not&nbsp;been&nbsp;started&nbsp;for&nbsp;the&nbsp;longest&nbsp;time,&nbsp;also&nbsp;tests&nbsp;if&nbsp;proxy&nbsp;connection&nbsp;is&nbsp;working<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(</span><span style="color: #0000BB">$ok&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo(</span><span style="color: #DD0000">"Fatal&nbsp;error:&nbsp;proxy&nbsp;rotation&nbsp;failed:\n&nbsp;</span><span style="color: #0000BB">$ok</span><span style="color: #DD0000">\n"</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]=-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ip_ready&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">check_ip_usage</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;test&nbsp;if&nbsp;ip&nbsp;has&nbsp;not&nbsp;been&nbsp;used&nbsp;within&nbsp;the&nbsp;critical&nbsp;time<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if&nbsp;(!</span><span style="color: #0000BB">$ip_ready</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo(</span><span style="color: #DD0000">"Fatal&nbsp;error:&nbsp;No&nbsp;fresh&nbsp;IPs&nbsp;left,&nbsp;wait&nbsp;a&nbsp;while&nbsp;and&nbsp;retry&nbsp;or&nbsp;obtain&nbsp;a&nbsp;larger&nbsp;plan.&nbsp;\n"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;proper&nbsp;error&nbsp;handling&nbsp;relies&nbsp;on&nbsp;exclusive&nbsp;use&nbsp;of&nbsp;the&nbsp;plan&nbsp;and&nbsp;rotation&nbsp;randomization&nbsp;==&nbsp;0<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]=-</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$rotate_now&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">delay_time</span><span style="color: #007700">(</span><span style="color: #DD0000">'ip'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;proper&nbsp;delay<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">break;&nbsp;</span><span style="color: #FF8000">//&nbsp;ip&nbsp;rotated&nbsp;successfully<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">delay_time</span><span style="color: #007700">(</span><span style="color: #DD0000">'request'</span><span style="color: #007700">);<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;we&nbsp;have&nbsp;the&nbsp;data&nbsp;already&nbsp;in&nbsp;cache<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">][</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">]=</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;we&nbsp;have&nbsp;to&nbsp;make&nbsp;a&nbsp;live&nbsp;request<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$scrape_result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">scrape_suggest</span><span style="color: #007700">(</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$scrape_result</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!(</span><span style="color: #0000BB">$rcounter</span><span style="color: #007700">++%</span><span style="color: #0000BB">5</span><span style="color: #007700">))&nbsp;</span><span style="color: #0000BB">$rotate_now</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]++;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'errors'</span><span style="color: #007700">]=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">][</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">]=</span><span style="color: #0000BB">$scrape_result</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">mark_ip_usage</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;store&nbsp;IP&nbsp;usage,&nbsp;this&nbsp;is&nbsp;very&nbsp;important&nbsp;to&nbsp;avoid&nbsp;detection&nbsp;and&nbsp;gray/blacklistings<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">[</span><span style="color: #DD0000">'keyword'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">[</span><span style="color: #DD0000">'cc'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'cc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">[</span><span style="color: #DD0000">'lc'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">[</span><span style="color: #DD0000">'result_count'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$scrape_result</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">]=</span><span style="color: #0000BB">$scrape_result</span><span style="color: #007700">[</span><span style="color: #DD0000">'data'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">store_cache</span><span style="color: #007700">(</span><span style="color: #0000BB">$cdata</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$api_suggest_data</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$test_mode</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;store&nbsp;results&nbsp;into&nbsp;local&nbsp;cache<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!(</span><span style="color: #0000BB">$empty_counter</span><span style="color: #007700">++%</span><span style="color: #0000BB">5</span><span style="color: #007700">))&nbsp;</span><span style="color: #0000BB">$rotate_now</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">][</span><span style="color: #0000BB">$keyword</span><span style="color: #007700">]=array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'errors'</span><span style="color: #007700">]++&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"More&nbsp;than&nbsp;10&nbsp;errors&nbsp;without&nbsp;results&nbsp;in&nbsp;between,&nbsp;hard&nbsp;abort\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">'success'</span><span style="color: #007700">]=-</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num_results</span><span style="color: #007700">=</span><span style="color: #0000BB">count_results</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$num_results&nbsp;</span><span style="color: #007700">&gt;=&nbsp;</span><span style="color: #0000BB">$max_results</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"reached&nbsp;configured&nbsp;max&nbsp;results,&nbsp;ending..\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;generates&nbsp;a&nbsp;set&nbsp;of&nbsp;keywords&nbsp;for&nbsp;a&nbsp;specific&nbsp;recursion&nbsp;level<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">generate_keywords</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">,</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">,</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$recursion_level&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">)&nbsp;return&nbsp;</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$level</span><span style="color: #007700">=</span><span style="color: #0000BB">$recursion_level</span><span style="color: #007700">-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$level</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$kw&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$keywords&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_unique</span><span style="color: #007700">(</span><span style="color: #0000BB">array_merge</span><span style="color: #007700">(</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$keywords</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;counts&nbsp;all&nbsp;results<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">count_results</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">,</span><span style="color: #0000BB">$level</span><span style="color: #007700">=-</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$level&nbsp;</span><span style="color: #007700">==&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$level</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$level</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">10</span><span style="color: #007700">;</span><span style="color: #0000BB">$level</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$level</span><span style="color: #007700">]))&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$level</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$kw&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">+=</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$results</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$level</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$kw&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">+=</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$results</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">display_results</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mask&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"|&nbsp;%-50.50s&nbsp;|&nbsp;%-50.50s&nbsp;|\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$separator</span><span style="color: #007700">=</span><span style="color: #0000BB">str_repeat</span><span style="color: #007700">(</span><span style="color: #DD0000">"-"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">50</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\nGoogle&nbsp;Suggest&nbsp;Spider&nbsp;results\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(</span><span style="color: #0000BB">$level</span><span style="color: #007700">=</span><span style="color: #0000BB">0</span><span style="color: #007700">;</span><span style="color: #0000BB">$level</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">10</span><span style="color: #007700">;</span><span style="color: #0000BB">$level</span><span style="color: #007700">++)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!isset(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$level</span><span style="color: #007700">]))&nbsp;break;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$num&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">count_results</span><span style="color: #007700">(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">,</span><span style="color: #0000BB">$language</span><span style="color: #007700">,</span><span style="color: #0000BB">$level</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Recursion&nbsp;level&nbsp;</span><span style="color: #0000BB">$level</span><span style="color: #DD0000">&nbsp;contains&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #DD0000">&nbsp;keywords:\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$mask</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Keyword'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'Suggests'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$mask</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$separator</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$separator</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$dataset</span><span style="color: #007700">[</span><span style="color: #0000BB">$language</span><span style="color: #007700">][</span><span style="color: #0000BB">$level</span><span style="color: #007700">]&nbsp;as&nbsp;</span><span style="color: #0000BB">$kw&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$results</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$line</span><span style="color: #007700">=</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$mask&nbsp;=&nbsp;"|%30s&nbsp;|%-30s&nbsp;|&nbsp;x&nbsp;|\n";&nbsp;//&nbsp;allow&nbsp;table&nbsp;corruption<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach&nbsp;(</span><span style="color: #0000BB">$results&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$suggest</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$line</span><span style="color: #007700">++&nbsp;==&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$mask</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$kw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$suggest</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$mask</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">''</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$suggest</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;&nbsp;</span><span style="color: #0000BB">mutate_keywords</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$mutation</span><span style="color: #007700">=</span><span style="color: #0000BB">range</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">,</span><span style="color: #DD0000">'z'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;you&nbsp;can&nbsp;change&nbsp;this&nbsp;to&nbsp;add&nbsp;more&nbsp;or&nbsp;less&nbsp;mutation<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$new_keywords</span><span style="color: #007700">=</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$primary_keywords&nbsp;</span><span style="color: #007700">as&nbsp;&amp;</span><span style="color: #0000BB">$kw</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$mutation&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$mut</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$new_keywords</span><span style="color: #007700">[]=</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$kw</span><span style="color: #DD0000">&nbsp;</span><span style="color: #0000BB">$mut</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$primary_keywords</span><span style="color: #007700">=</span><span style="color: #0000BB">$new_keywords</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div></div></div></body></html>